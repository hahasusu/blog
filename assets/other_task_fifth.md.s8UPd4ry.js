import{_ as s,c as n,o as a,a4 as l}from"./chunks/framework.GYzjcnJh.js";const m=JSON.parse('{"title":"第五周","description":"","frontmatter":{},"headers":[],"relativePath":"other/task/fifth.md","filePath":"other/task/fifth.md"}'),e={name:"other/task/fifth.md"},p=l(`<h1 id="第五周" tabindex="-1">第五周 <a class="header-anchor" href="#第五周" aria-label="Permalink to &quot;第五周&quot;">​</a></h1><h2 id="_1-总结openssh服务安全加固" tabindex="-1">1. 总结openssh服务安全加固 <a class="header-anchor" href="#_1-总结openssh服务安全加固" aria-label="Permalink to &quot;1. 总结openssh服务安全加固&quot;">​</a></h2><p>要将OpenSSH服务加固，可以考虑以下几个步骤：</p><ol><li>修改默认端口：默认情况下，OpenSSH服务监听在22端口上。黑客可以扫描这个端口，并尝试使用常见的用户名和密码来进行暴力crack。因此，将SSH服务迁移到一个非标准端口（比如2200）是一种简单且有效的保护方法。</li><li>禁用root用户登录：禁用root用户直接登录SSH是一种良好的安全实践。因为黑客可以使用该帐户作为目标，并尝试使用暴力crack来获取访问权限。同时也可以创建一个具有sudo权限的非root用户。</li><li>使用双因素身份验证：双因素身份验证（2FA）能够提高SSH服务的安全性。这种技术需要用户提供两个或多个因素，如密码和令牌、指纹等。 通过使用2FA，黑客需要获得更多的信息才能突破身份验证。</li><li>配置限制登录尝试次数：SSH服务可以设置以限制登录尝试次数并防止暴力crack。 可以通过修改/et/ssh/sshd_config文件中的MaxAuthTries字段来控制允许的最大尝试次数。</li><li>禁用密码身份验证：使用SSH密钥对进行身份验证比使用密码更加安全。因此，可以通过修改sshd_config中的PasswordAuthentication字段来禁用密码登录。</li><li>更新SSH客户端和服务端软件：保持SSH软件最新是非常重要的，因为这将确保其具有最新的安全修补程序和最佳实践。</li><li>禁止使用SSHv1。</li><li>设定空闲会话超时时长。</li><li>仅监听特定的IP地址。</li></ol><h2 id="_2-总结sudo配置文件格式-总结相关示例。" tabindex="-1">2. 总结sudo配置文件格式，总结相关示例。 <a class="header-anchor" href="#_2-总结sudo配置文件格式-总结相关示例。" aria-label="Permalink to &quot;2. 总结sudo配置文件格式，总结相关示例。&quot;">​</a></h2><p>sudo是一个允许系统管理员授权普通用户执行特定命令的工具，其配置文件为/etc/sudoers。</p><p>sudoers文件由多行规则组成，每行规则指定了哪个用户可以以哪个身份（即以哪个用户、组、主机等身份）执行哪些命令。以下是sudoers文件中常用的语法和示例:</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-lighter vp-code" tabindex="0"><code><span class="line"><span style="color:#90A4AE;font-style:italic;">#允许user在host机器上以runas用户的身份执行command命令</span></span>
<span class="line"><span style="color:#E2931D;">user</span><span style="color:#91B859;"> host=</span><span style="color:#39ADB5;">(</span><span style="color:#E2931D;">runas</span><span style="color:#39ADB5;">)</span><span style="color:#91B859;"> command</span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;"># 允许group组的所有成员在host机器上以runas用户的身份执行command命令</span></span>
<span class="line"><span style="color:#E2931D;">%group</span><span style="color:#91B859;"> host=</span><span style="color:#39ADB5;">(</span><span style="color:#E2931D;">runas</span><span style="color:#39ADB5;">)</span><span style="color:#91B859;"> command</span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;"># 允许user在所有机器上以所有身份执行任何命令而无需输入密码</span></span>
<span class="line"><span style="color:#E2931D;">user</span><span style="color:#91B859;"> ALL=</span><span style="color:#39ADB5;">(</span><span style="color:#E2931D;">ALL</span><span style="color:#39ADB5;">)</span><span style="color:#91B859;"> NOPASSWD:ALL</span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;"># 允许用户jack在本机以root用户的身份执行/sbin/reboot命令</span></span>
<span class="line"><span style="color:#E2931D;">jack</span><span style="color:#91B859;"> localhost=</span><span style="color:#39ADB5;">(</span><span style="color:#E2931D;">root</span><span style="color:#39ADB5;">)</span><span style="color:#91B859;"> /sbin/reboot</span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;"># 允许用户jack在10.0.0.1机器上以apache用户的身份执行/usr/sbin/apachectl命令：</span></span>
<span class="line"><span style="color:#E2931D;">jack</span><span style="color:#91B859;"> 10.0.0.1=</span><span style="color:#39ADB5;">(</span><span style="color:#E2931D;">apache</span><span style="color:#39ADB5;">)</span><span style="color:#91B859;"> /usr/sbin/apachectl</span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;"># 允许组developers在所有机器上以jenkins用户的身份执行</span></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;"># /usr/bin/java和/usr/bin/mvn命令，而无需输入密码：</span></span>
<span class="line"><span style="color:#E2931D;">%developers</span><span style="color:#91B859;"> ALL=</span><span style="color:#39ADB5;">(</span><span style="color:#E2931D;">jenkins</span><span style="color:#39ADB5;">)</span><span style="color:#91B859;"> NOPASSWD:/usr/bin/java,/usr/bin/mvn</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h2 id="_3-总结pam架构及工作原理" tabindex="-1">3. 总结PAM架构及工作原理 <a class="header-anchor" href="#_3-总结pam架构及工作原理" aria-label="Permalink to &quot;3. 总结PAM架构及工作原理&quot;">​</a></h2><p>PAM（Pluggable Authentication Modules）是一种面向认证的模块化框架，以插件形式提供灵活的身份认证机制，并且可以轻松地添加、更新和管理认证模块。PAM架构常用于Linux/Unix系统中，它的主要工作原理如下：</p><ol><li>当用户尝试通过某种方式（例如：登录终端，SFTP连接等）访问系统时，系统会请求PAM库进行身份验证。</li><li>PAM库会根据指定的配置文件确定需要使用哪些认证模块，并按照指定的顺序依次调用这些认证模块。</li><li>每个认证模块对用户提供的身份信息进行验证。如果验证成功，则PAM库会将用户标记为已认证；否则，PAM库会拒绝用户的访问请求。</li><li>当所有认证模块都完成验证后，PAM库会根据最终的认证结果决定是否授权用户访问系统。</li></ol><p>总之，PAM架构提供了一种可扩展、可定制的身份认证框架，能够在不修改系统核心代码的情况下，灵活地定制系统的身份认证流程。</p><h2 id="_4-总结pam配置文件格式-总结相关示例-nologin-so-limits-等模块的使用。" tabindex="-1">4. 总结PAM配置文件格式，总结相关示例, nologin.so, limits,等模块的使用。 <a class="header-anchor" href="#_4-总结pam配置文件格式-总结相关示例-nologin-so-limits-等模块的使用。" aria-label="Permalink to &quot;4. 总结PAM配置文件格式，总结相关示例, nologin.so, limits,等模块的使用。&quot;">​</a></h2><blockquote><p>PAM（Pluggable Authentication Modules）的配置文件位于/etc/pam.d目录下，用于描述各应用程序的身份认证流程</p></blockquote><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-lighter vp-code" tabindex="0"><code><span class="line"><span style="color:#90A4AE;font-style:italic;"># 控制认证过程的控制标记，通常是required, requisite, sufficient或者optional</span></span>
<span class="line"><span style="color:#E2931D;">auth</span><span style="color:#91B859;">  required</span><span style="color:#39ADB5;">  &lt;</span><span style="color:#91B859;">module_nam</span><span style="color:#90A4AE;">e</span><span style="color:#39ADB5;">&gt;</span><span style="color:#39ADB5;">  &lt;</span><span style="color:#91B859;">module_argument</span><span style="color:#90A4AE;">s</span><span style="color:#39ADB5;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;"># 控制帐户管理行为</span></span>
<span class="line"><span style="color:#E2931D;">account</span><span style="color:#91B859;">  required</span><span style="color:#39ADB5;">  &lt;</span><span style="color:#91B859;">module_nam</span><span style="color:#90A4AE;">e</span><span style="color:#39ADB5;">&gt;</span><span style="color:#39ADB5;">  &lt;</span><span style="color:#91B859;">module_argument</span><span style="color:#90A4AE;">s</span><span style="color:#39ADB5;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;"># 控制会话管理行为</span></span>
<span class="line"><span style="color:#E2931D;">session</span><span style="color:#91B859;">  required</span><span style="color:#39ADB5;">  &lt;</span><span style="color:#91B859;">module_nam</span><span style="color:#90A4AE;">e</span><span style="color:#39ADB5;">&gt;</span><span style="color:#39ADB5;">  &lt;</span><span style="color:#91B859;">module_argument</span><span style="color:#90A4AE;">s</span><span style="color:#39ADB5;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;"># 控制密码管理行为</span></span>
<span class="line"><span style="color:#E2931D;">password</span><span style="color:#91B859;">  required</span><span style="color:#39ADB5;">  &lt;</span><span style="color:#91B859;">module_nam</span><span style="color:#90A4AE;">e</span><span style="color:#39ADB5;">&gt;</span><span style="color:#39ADB5;">  &lt;</span><span style="color:#91B859;">module_argument</span><span style="color:#90A4AE;">s</span><span style="color:#39ADB5;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>其中，&lt;module_name&gt;指定了要加载的认证模块的名称，&lt;module_arguments&gt;指定了传递给该模块的参数。</p><p>每个控制标记描述了在进行身份验证时如何处理相关模块的返回值。如果使用了&quot;required&quot;标记，则必须成功通过该模块才能进行后续操作；&quot;requisite&quot;标记与&quot;required&quot;类似，但如果模块返回失败则会立即结束认证过程；&quot;sufficient&quot;标记表示如果模块返回成功则将继续执行下一个模块，否则不作任何处理；&quot;optional&quot;标记表示即使模块返回失败也将继续执行下一个模块。</p><p>PAM配置文件采用了一种简单的格式，通过控制标记对认证流程进行灵活的控制。它提供了一种可扩展、可定制的身份认证框架，能够在不修改系统核心代码的情况下，灵活地定制系统的身份认证流程</p><p><code>/etc/pam.d/login</code> 的内容如下</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-lighter vp-code" tabindex="0"><code><span class="line"><span style="color:#90A4AE;font-style:italic;">#%PAM-1.0</span></span>
<span class="line"><span style="color:#E2931D;">auth</span><span style="color:#90A4AE;"> [user_unknown=ignore </span><span style="color:#91B859;">success=ok</span><span style="color:#91B859;"> ignore=ignore</span><span style="color:#91B859;"> default=bad]</span><span style="color:#91B859;"> pam_securetty.so</span></span>
<span class="line"><span style="color:#E2931D;">auth</span><span style="color:#91B859;">       substack</span><span style="color:#91B859;">     system-auth</span></span>
<span class="line"><span style="color:#E2931D;">auth</span><span style="color:#91B859;">       include</span><span style="color:#91B859;">      postlogin</span></span>
<span class="line"><span style="color:#E2931D;">account</span><span style="color:#91B859;">    required</span><span style="color:#91B859;">     pam_nologin.so</span></span>
<span class="line"><span style="color:#E2931D;">account</span><span style="color:#91B859;">    include</span><span style="color:#91B859;">      system-auth</span></span>
<span class="line"><span style="color:#E2931D;">password</span><span style="color:#91B859;">   include</span><span style="color:#91B859;">      system-auth</span></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;"># pam_selinux.so close should be the first session rule</span></span>
<span class="line"><span style="color:#E2931D;">session</span><span style="color:#91B859;">    required</span><span style="color:#91B859;">     pam_selinux.so</span><span style="color:#91B859;"> close</span></span>
<span class="line"><span style="color:#E2931D;">session</span><span style="color:#91B859;">    required</span><span style="color:#91B859;">     pam_loginuid.so</span></span>
<span class="line"><span style="color:#E2931D;">session</span><span style="color:#91B859;">    optional</span><span style="color:#91B859;">     pam_console.so</span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;"># pam_selinux.so open should only be followed by sessions to be executed in the user context</span></span>
<span class="line"><span style="color:#E2931D;">session</span><span style="color:#91B859;">    required</span><span style="color:#91B859;">     pam_selinux.so</span><span style="color:#91B859;"> open</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E2931D;">session</span><span style="color:#91B859;">    required</span><span style="color:#91B859;">     pam_namespace.so</span></span>
<span class="line"><span style="color:#E2931D;">session</span><span style="color:#91B859;">    optional</span><span style="color:#91B859;">     pam_keyinit.so</span><span style="color:#91B859;"> force</span><span style="color:#91B859;"> revoke</span></span>
<span class="line"><span style="color:#E2931D;">session</span><span style="color:#91B859;">    include</span><span style="color:#91B859;">      system-auth</span></span>
<span class="line"><span style="color:#E2931D;">session</span><span style="color:#91B859;">    include</span><span style="color:#91B859;">      postlogin</span></span>
<span class="line"><span style="color:#E2931D;">-session</span><span style="color:#91B859;">   optional</span><span style="color:#91B859;">     pam_ck_connector.so</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h2 id="_5-实现私有时间服务器" tabindex="-1">5. 实现私有时间服务器 <a class="header-anchor" href="#_5-实现私有时间服务器" aria-label="Permalink to &quot;5. 实现私有时间服务器&quot;">​</a></h2><ol><li>安装chrony <code>sudo apt install chrony</code></li><li>配置chrony <code>vim /etc/chrony/chrony.conf</code><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-lighter vp-code" tabindex="0"><code><span class="line"><span style="color:#90A4AE;font-style:italic;"># 设定一些时间服务器的IP地址</span></span>
<span class="line"><span style="color:#E2931D;">server</span><span style="color:#91B859;"> ntp.aliyun.com</span><span style="color:#91B859;"> iburst</span></span>
<span class="line"><span style="color:#E2931D;">server</span><span style="color:#91B859;"> ntp.tencent.com</span><span style="color:#91B859;"> iburst</span></span>
<span class="line"><span style="color:#E2931D;">server</span><span style="color:#91B859;"> ntp.ntsc.ac.cn</span></span>
<span class="line"><span style="color:#E2931D;">server</span><span style="color:#91B859;"> pool.ntp.org</span><span style="color:#91B859;"> iburst</span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;"># 允许其他主机访问您的时间服务器</span></span>
<span class="line"><span style="color:#E2931D;">allow</span><span style="color:#91B859;"> all</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></li><li>启动chrony <code>systemctl start chrony</code></li><li>检查chrony状态 <code>systemctl status chrony</code></li><li>配置客户端 <code>vim /etc/chrony/chrony.conf</code><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-lighter vp-code" tabindex="0"><code><span class="line"><span style="color:#E2931D;">server</span><span style="color:#F76D47;"> 192.168.1.100</span><span style="color:#91B859;"> iburst</span></span>
<span class="line"><span style="color:#E2931D;">systemctl</span><span style="color:#91B859;"> restart</span><span style="color:#91B859;"> chrony</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li></ol><h2 id="_6-总结dns域名三级结构" tabindex="-1">6. 总结DNS域名三级结构 <a class="header-anchor" href="#_6-总结dns域名三级结构" aria-label="Permalink to &quot;6. 总结DNS域名三级结构&quot;">​</a></h2><p>DNS域名结构分为三级：主机名、二级域名和顶级域名。其中，主机名指的是主机设备的名称，比如“www”、“mail”等；</p><p>二级域名指的是主机所在的域名，比如“google.com”中的“google”就是一个二级域名；</p><p>而顶级域名则是在二级域名后面的最后部分，比如“.com”、“.net”、“.edu”等。</p><p>以“www.google.com”为例，其中“www”是主机名，“google”是二级域名，“.com”则是顶级域名。这种三级结构的域名系统使得互联网上的每个设备都能够用一个唯一的域名进行标识，从而方便用户进行访问和交流。</p><h2 id="_7-总结dns服务工作原理-涉及递归和迭代查询原理" tabindex="-1">7. 总结DNS服务工作原理，涉及递归和迭代查询原理 <a class="header-anchor" href="#_7-总结dns服务工作原理-涉及递归和迭代查询原理" aria-label="Permalink to &quot;7. 总结DNS服务工作原理，涉及递归和迭代查询原理&quot;">​</a></h2><p><code>DNS</code>（Domain Name System）服务是一种将域名与IP地址相互映射的系统，它可以将人类可读的域名转化成计算机可读的IP地址，使得用户可以通过域名来访问Internet上的各种服务。DNS服务通常包括两个步骤：递归查询和迭代查询。</p><p><strong>递归查询</strong>是一种DNS服务器的查询模式，在该模式下DNS服务器接收到客户机请求，必须使用一个准确的查询结果回复客户机。如果DNS服务器本地没有存储查询DNS 信息，那么该服务器会询问其他服务器，并将返回的查询结果提交给客户机。</p><p><strong>迭代查询</strong>，DNS服务器会向客户机提供其他能够解析查询请求的DNS服务器地址，当客户机发送查询请求时，DNS服务器并不直接回复查询结果，而是告诉客户机另一台DNS服务器地址，客户机再向这台DNS服务器提交请求，依次循环直到返回查询的结果</p><h2 id="_8-实现私有dns-供本地网络主机作dns递归查询。" tabindex="-1">8. 实现私有DNS, 供本地网络主机作DNS递归查询。 <a class="header-anchor" href="#_8-实现私有dns-供本地网络主机作dns递归查询。" aria-label="Permalink to &quot;8. 实现私有DNS, 供本地网络主机作DNS递归查询。&quot;">​</a></h2><p>要实现私有DNS，需要以下步骤：</p><ol><li>安装 DNS 服务器软件，常见的有 BIND、dnsmasq 等多种选择；</li><li>配置 DNS 服务器软件，设置本地网络主机可以访问的 DNS 域名解析区域；</li><li>在 DNS 服务器上添加需要解析的域名记录，例如本地局域网内的计算机名和 IP 地址对应关系。</li></ol><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-lighter vp-code" tabindex="0"><code><span class="line"><span style="color:#90A4AE;font-style:italic;">#假设在magedu.org域的主DNS服务器上实现，10.0.0.48/24</span></span>
<span class="line"><span style="color:#E2931D;">dnf</span><span style="color:#91B859;"> install</span><span style="color:#91B859;"> bind</span><span style="color:#91B859;"> -y</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#E2931D;">vim</span><span style="color:#91B859;"> /etc/named.conf</span></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">#注释掉下面两行</span></span>
<span class="line"><span style="color:#E2931D;">//</span><span style="color:#91B859;">	listen-on</span><span style="color:#91B859;"> port</span><span style="color:#F76D47;"> 53</span><span style="color:#91B859;"> {</span><span style="color:#F76D47;">127.0.0.1</span><span style="color:#39ADB5;">;</span><span style="color:#90A4AE;">};</span></span>
<span class="line"><span style="color:#E2931D;">//</span><span style="color:#91B859;">	allow-query</span><span style="color:#91B859;">				{localhost</span><span style="color:#39ADB5;">;</span><span style="color:#90A4AE;">};</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">#只允许 从服务器 进行区域传输</span></span>
<span class="line"><span style="color:#E2931D;">allow-transfer</span><span style="color:#91B859;"> {从服务器IP</span><span style="color:#39ADB5;">;</span><span style="color:#90A4AE;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E2931D;">vim</span><span style="color:#91B859;"> /etc/named.rfc1912.zones</span></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">#加上这段</span></span>
<span class="line"><span style="color:#E2931D;">zone</span><span style="color:#39ADB5;"> &quot;</span><span style="color:#91B859;">magedu.org</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">{</span></span>
<span class="line"><span style="color:#6182B8;">	type</span><span style="color:#91B859;"> master</span><span style="color:#39ADB5;">;</span></span>
<span class="line"><span style="color:#E2931D;">  file</span><span style="color:#39ADB5;"> &quot;</span><span style="color:#91B859;">magedu.org.zone</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">;</span></span>
<span class="line"><span style="color:#90A4AE;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E2931D;">vim</span><span style="color:#91B859;"> /var/named/magedu.org.zone</span></span>
<span class="line"><span style="color:#90A4AE;">$TTL 1D</span></span>
<span class="line"><span style="color:#E2931D;">@</span><span style="color:#91B859;">			IN</span><span style="color:#91B859;">	SOA</span><span style="color:#91B859;">	master</span><span style="color:#91B859;"> admin.magedu.org.</span><span style="color:#90A4AE;">	(</span></span>
<span class="line"><span style="color:#E2931D;">											1</span><span style="color:#39ADB5;">	;</span><span style="color:#E2931D;">	serial</span></span>
<span class="line"><span style="color:#E2931D;">                      1D</span><span style="color:#39ADB5;">	;</span><span style="color:#E2931D;">	refresh</span></span>
<span class="line"><span style="color:#E2931D;">                      1H</span><span style="color:#39ADB5;">	;</span><span style="color:#E2931D;">	retry</span></span>
<span class="line"><span style="color:#E2931D;">                      1W</span><span style="color:#39ADB5;">	;</span><span style="color:#E2931D;">	expire</span></span>
<span class="line"><span style="color:#E2931D;">                      3H</span><span style="color:#39ADB5;">	;</span><span style="color:#E2931D;">	minimum</span></span>
<span class="line"><span style="color:#90A4AE;">											)</span></span>
<span class="line"><span style="color:#E2931D;">         	NS</span><span style="color:#91B859;">	master</span></span>
<span class="line"><span style="color:#E2931D;">          NS</span><span style="color:#91B859;">	slave</span></span>
<span class="line"><span style="color:#E2931D;">master</span><span style="color:#91B859;">		A</span><span style="color:#F76D47;">		10.0.0.48</span></span>
<span class="line"><span style="color:#E2931D;">slave</span><span style="color:#91B859;">			A</span><span style="color:#F76D47;">		10.0.0.58</span></span>
<span class="line"><span style="color:#E2931D;">www</span><span style="color:#91B859;">				A</span><span style="color:#F76D47;">		10.0.0.68</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#E2931D;">chgrp</span><span style="color:#91B859;"> named</span><span style="color:#91B859;"> /var/named/magedu.org.zone</span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">#第一次启动服务</span></span>
<span class="line"><span style="color:#E2931D;">systemctl</span><span style="color:#91B859;"> start</span><span style="color:#91B859;"> named</span></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">#不是第一次启动服务，重新加载配置文件</span></span>
<span class="line"><span style="color:#E2931D;">rndc</span><span style="color:#91B859;"> reload</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br></div></div><h2 id="_9-总结dns服务器类型-解析答案-正反解析域-资源记录定义。" tabindex="-1">9. 总结DNS服务器类型，解析答案，正反解析域，资源记录定义。 <a class="header-anchor" href="#_9-总结dns服务器类型-解析答案-正反解析域-资源记录定义。" aria-label="Permalink to &quot;9. 总结DNS服务器类型，解析答案，正反解析域，资源记录定义。&quot;">​</a></h2><p>DNS服务器类型可以分为以下几种：</p><ol><li>递归型DNS服务器：当客户端请求访问某个域名时，递归型DNS服务器会直接向根域名服务器发起查询，并从上到下依次向下级服务器查询，直到获取该域名的IP地址并返回给客户端。</li><li>权威型DNS服务器：权威型DNS服务器记录着某个特定区域内所有主机的IP地址，当其他DNS服务器需要解析本区域内的域名时，就会向该权威型DNS服务器发起查询请求。</li><li>缓存型DNS服务器：缓存型DNS服务器会将最近查询过的域名解析结果保存在本地，下次有相同域名查询请求时直接返回已经保存的结果，加快查询速度。</li><li>前置型DNS服务器：前置型DNS服务器是指在客户端与递归型DNS服务器之间设置的一台DNS服务器，对于一些常用的域名，可以提前进行查询，并将结果保存在本地，避免多次发送查询请求。 DNS解析答案是指通过DNS服务器查询出来的IP地址信息。当客户端发起访问某个域名的请求时，DNS服务器会进行一系列的查询操作，最终返回一个IP地址给客户端，客户端便可以通过该IP地址访问目标网站或服务器。</li></ol><p><strong>正反解析域</strong>是指DNS服务器解析域名时所支持的两种不同查询方式。正向解析是指通过域名查找对应IP地址的过程，而反向解析则是指通过IP地址查找对应域名的过程。</p><p><strong>资源记录定义</strong>是指DNS服务器在进行域名解析时所需要查询的不同种类的信息。常见的资源记录类型包括A记录、MX记录、CNAME记录、PTR记录、NS记录等。其中，A记录用于指定主机名和IP地址之间的对应关系，MX记录用于指定邮件服务器的域名地址，CNAME记录用于指定别名，PTR记录用于反向域名解析，NS记录则用于指定一个区的DNS服务器名称。</p><h2 id="_10-实现dns主从同步" tabindex="-1">10. 实现DNS主从同步 <a class="header-anchor" href="#_10-实现dns主从同步" aria-label="Permalink to &quot;10. 实现DNS主从同步&quot;">​</a></h2><h2 id="_11-实现dns子域授权" tabindex="-1">11. 实现DNS子域授权 <a class="header-anchor" href="#_11-实现dns子域授权" aria-label="Permalink to &quot;11. 实现DNS子域授权&quot;">​</a></h2><h2 id="_12-基于acl实现智能dns" tabindex="-1">12. 基于acl实现智能DNS <a class="header-anchor" href="#_12-基于acl实现智能dns" aria-label="Permalink to &quot;12. 基于acl实现智能DNS&quot;">​</a></h2><h2 id="_13-总结防火墙分类" tabindex="-1">13. 总结防火墙分类 <a class="header-anchor" href="#_13-总结防火墙分类" aria-label="Permalink to &quot;13. 总结防火墙分类&quot;">​</a></h2><p>防火墙是一种网络安全设备，用于监视和控制网络流量，以确保网络的安全性和完整性。防火墙可以按不同的标准进行分类，包括以下几种主要类型：</p><p><strong>按部署位置分类：</strong></p><p>网络边界防火墙（Network Perimeter Firewall）：位于内部网络和外部网络之间，通常用于保护整个内部网络免受外部威胁的侵害。这种防火墙通常位于网络的入口点，如边缘路由器。</p><p>主机防火墙（Host-Based Firewall）：位于单个主机或服务器上，用于保护该主机免受来自网络或其他主机的威胁。主机防火墙通常是软件解决方案，例如操作系统内置的防火墙或第三方防火墙应用程序。</p><p><strong>按过滤方式分类：</strong></p><p>有状态防火墙（Stateful Firewall）：有状态防火墙能够检查数据包的状态，并根据连接的状态（如建立、终止）来允许或拒绝流量。它通常具有更高的性能和更复杂的规则。</p><p>无状态防火墙（Stateless Firewall）：无状态防火墙根据预定义的规则（如源和目标地址、端口号等）简单地允许或拒绝数据包，而不考虑连接的状态。它通常用于过滤基本网络流量。</p><p><strong>按应用层分类：</strong></p><p>应用层防火墙（Application Layer Firewall）：应用层防火墙能够深入分析网络流量的应用层协议，并允许或拒绝特定应用程序或服务的访问。这种防火墙通常用于过滤Web流量或应用程序特定流量。 按部署方式分类：</p><p>硬件防火墙（Hardware Firewall）：硬件防火墙通常是专用的物理设备，位于网络的关键入口点，如路由器、交换机或独立的防火墙设备。</p><p>软件防火墙（Software Firewall）：软件防火墙是一种部署在计算机或服务器上的应用程序或操作系统组件，用于监视和控制该主机的网络连接。</p><p><strong>按规则类型分类：</strong></p><p>黑名单防火墙：黑名单防火墙基于已知的恶意或不受欢迎的规则来拒绝特定的流量。只有在规则列表中的流量将被拒绝，其他流量将被允许。</p><p>白名单防火墙：白名单防火墙仅允许预先授权的规则或流量通过，拒绝一切不在白名单中的流量。这种方法通常更严格和安全。</p><h2 id="_14-总结iptable-5表5链-基本使用-扩展模块。" tabindex="-1">14. 总结iptable 5表5链, 基本使用，扩展模块。 <a class="header-anchor" href="#_14-总结iptable-5表5链-基本使用-扩展模块。" aria-label="Permalink to &quot;14. 总结iptable 5表5链, 基本使用，扩展模块。&quot;">​</a></h2><h2 id="_15-总结iptables规则优化实践-规则保存和恢复。" tabindex="-1">15. 总结iptables规则优化实践，规则保存和恢复。 <a class="header-anchor" href="#_15-总结iptables规则优化实践-规则保存和恢复。" aria-label="Permalink to &quot;15. 总结iptables规则优化实践，规则保存和恢复。&quot;">​</a></h2><h2 id="_16-总结nat转换原理-dnat-sdnat原理-并自行设计架构实现dnat-snat。" tabindex="-1">16. 总结NAT转换原理, DNAT/SDNAT原理，并自行设计架构实现DNAT/SNAT。 <a class="header-anchor" href="#_16-总结nat转换原理-dnat-sdnat原理-并自行设计架构实现dnat-snat。" aria-label="Permalink to &quot;16. 总结NAT转换原理, DNAT/SDNAT原理，并自行设计架构实现DNAT/SNAT。&quot;">​</a></h2><h2 id="_17-使用redirect将90端口重定向80-并可以访问到80端口的服务" tabindex="-1">17. 使用REDIRECT将90端口重定向80，并可以访问到80端口的服务 <a class="header-anchor" href="#_17-使用redirect将90端口重定向80-并可以访问到80端口的服务" aria-label="Permalink to &quot;17. 使用REDIRECT将90端口重定向80，并可以访问到80端口的服务&quot;">​</a></h2><h2 id="_18-firewalld常见区域总结。" tabindex="-1">18. firewalld常见区域总结。 <a class="header-anchor" href="#_18-firewalld常见区域总结。" aria-label="Permalink to &quot;18. firewalld常见区域总结。&quot;">​</a></h2><h2 id="_19-通过ntftable来实现暴露本机80-443-ssh服务端口给指定网络访问" tabindex="-1">19. 通过ntftable来实现暴露本机80/443/ssh服务端口给指定网络访问 <a class="header-anchor" href="#_19-通过ntftable来实现暴露本机80-443-ssh服务端口给指定网络访问" aria-label="Permalink to &quot;19. 通过ntftable来实现暴露本机80/443/ssh服务端口给指定网络访问&quot;">​</a></h2><h2 id="_20-总结关系型数据库相关概念-关系-行-列-主键-惟一键-域。" tabindex="-1">20. 总结关系型数据库相关概念，关系，行，列，主键，惟一键，域。 <a class="header-anchor" href="#_20-总结关系型数据库相关概念-关系-行-列-主键-惟一键-域。" aria-label="Permalink to &quot;20. 总结关系型数据库相关概念，关系，行，列，主键，惟一键，域。&quot;">​</a></h2><h2 id="_21-总结关联类型-1对1-1对多-多对多关系。可以自行设计表进行解释。" tabindex="-1">21. 总结关联类型，1对1，1对多，多对多关系。可以自行设计表进行解释。 <a class="header-anchor" href="#_21-总结关联类型-1对1-1对多-多对多关系。可以自行设计表进行解释。" aria-label="Permalink to &quot;21. 总结关联类型，1对1，1对多，多对多关系。可以自行设计表进行解释。&quot;">​</a></h2><h2 id="_22-总结mysql设计范式" tabindex="-1">22. 总结mysql设计范式 <a class="header-anchor" href="#_22-总结mysql设计范式" aria-label="Permalink to &quot;22. 总结mysql设计范式&quot;">​</a></h2><h2 id="_23-总结mysql多种安装方式-及安全加固-并总结mysql配置文件。" tabindex="-1">23. 总结Mysql多种安装方式，及安全加固，并总结mysql配置文件。 <a class="header-anchor" href="#_23-总结mysql多种安装方式-及安全加固-并总结mysql配置文件。" aria-label="Permalink to &quot;23. 总结Mysql多种安装方式，及安全加固，并总结mysql配置文件。&quot;">​</a></h2>`,68),o=[p];function r(t,c,i,y,b,u){return a(),n("div",null,o)}const h=s(e,[["render",r]]);export{m as __pageData,h as default};
