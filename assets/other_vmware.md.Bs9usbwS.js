import{_ as s,c as n,o as a,a4 as e}from"./chunks/framework.GYzjcnJh.js";const _=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"other/vmware.md","filePath":"other/vmware.md"}'),p={name:"other/vmware.md"},l=e(`<h2 id="nat设置" tabindex="-1">NAT设置 <a class="header-anchor" href="#nat设置" aria-label="Permalink to &quot;NAT设置&quot;">​</a></h2><p>通常情况下虚拟机安装完成之后会自动生成2块网卡，分别是VMnet1和VMnet8,其中VMnet1是host-only模式，VMnet8是NAT。</p><p>区别在于VMnet1仅可以和主机及同网段的虚拟机通信，VMnet8可以通过主机连接外网。</p><p>使用NAT模式，需要进行以下的设置：</p><ol><li>选中宿主机使用中的本地网卡，右键-属性-共享，选中“允许其他网络用户通过此计算机的Internet连接来连接”，下面的网络连接中选择“VMnet8”。</li><li>选中“VMnet8”，右键-属性-配置一个IPV4地址，设置<strong>任意IP地址</strong>及子网掩码。</li></ol><p>例如,IP:<code>192.168.1.1</code> 子网掩码:<code>255.255.255.0</code></p><p>3.进入虚拟机操作系统，进行操作系统网络配置，一般需要修改eth0.</p><p><code>vim /etc/sysconfig/network-scripts/ifcfg-eth0</code></p><p>该配置文件需要修改部分如下</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-lighter vp-code" tabindex="0"><code><span class="line"><span style="color:#90A4AE;">ONBOOT</span><span style="color:#39ADB5;">=</span><span style="color:#91B859;">YES</span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;">BOOTPROTO</span><span style="color:#39ADB5;">=</span><span style="color:#91B859;">none</span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;">IPADDR</span><span style="color:#39ADB5;">=</span><span style="color:#91B859;">192.168.1.X</span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;">NETMASK</span><span style="color:#39ADB5;">=</span><span style="color:#91B859;">255.255.255.0</span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;"># vmnet8的ip</span></span>
<span class="line"><span style="color:#90A4AE;">GATEWAY</span><span style="color:#39ADB5;">=</span><span style="color:#91B859;">192.168.1.1</span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;">DNS1</span><span style="color:#39ADB5;">=</span><span style="color:#91B859;">223.5.5.5</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>其中<code>IPADDR</code>需要和<code>VMnet8</code>的IP地址位于同一网段；<code>GATEWAY</code>需要设置为<code>VMnet8的IP地址</code></p><p>修改完成之后，重启服务。</p><p>此时主机和虚拟机可以互相访问，同时虚拟机可以通过主机共享的方式连接外网。</p><p>需要注意的有2点:</p><ol><li><strong>宿主机使用的本地网卡设置为和VMnet8共享</strong></li><li>VMnet8和虚拟机ifcfg-eth0需要位于同一网段，而且ifcfg-eth0的默认网关为VMnet8的IP地址。</li></ol>`,15),o=[l];function t(c,r,i,d,A,b){return a(),n("div",null,o)}const h=s(p,[["render",t]]);export{_ as __pageData,h as default};
