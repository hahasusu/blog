import{_ as s,c as n,o as a,a4 as l}from"./chunks/framework.GYzjcnJh.js";const m=JSON.parse('{"title":"","description":"","frontmatter":{"date":"2024-03-08 14:26:18","lastUpdated":"2024-04-30T00:00:00.000Z"},"headers":[],"relativePath":"scripts/compile-python.md","filePath":"scripts/compile-python.md"}'),p={name:"scripts/compile-python.md"},e=l(`<div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-lighter vp-code" tabindex="0"><code><span class="line"><span style="color:#90A4AE;font-style:italic;">#!/bin/bash</span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;">version</span><span style="color:#39ADB5;">=</span><span style="color:#91B859;">3.12.2</span></span>
<span class="line"><span style="color:#90A4AE;">url</span><span style="color:#39ADB5;">=</span><span style="color:#91B859;">http://10.0.0.10:80/linux/Python-</span><span style="color:#90A4AE;">$version</span><span style="color:#91B859;">.tar.xz</span></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">#url=http://rocky8.com/linux/Python-$version.tar.xz</span></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;"># 默认/usr/local</span></span>
<span class="line"><span style="color:#90A4AE;">install_dir</span><span style="color:#39ADB5;">=</span><span style="color:#91B859;">/usr/local/python-</span><span style="color:#90A4AE;">$version</span></span>
<span class="line"><span style="color:#90A4AE;">src_dir</span><span style="color:#39ADB5;">=</span><span style="color:#91B859;">/usr/local/src</span></span>
<span class="line"><span style="color:#90A4AE;">cpus</span><span style="color:#39ADB5;">=</span><span style="color:#39ADB5;">\`</span><span style="color:#E2931D;">nproc</span><span style="color:#39ADB5;">\`</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;"># 下载源码包</span></span>
<span class="line"><span style="color:#E2931D;">wget</span><span style="color:#91B859;"> -nc</span><span style="color:#90A4AE;"> $url </span><span style="color:#91B859;">-P</span><span style="color:#91B859;"> /opt</span><span style="color:#39ADB5;"> &amp;&amp;</span><span style="color:#E2931D;"> tar</span><span style="color:#91B859;"> xf</span><span style="color:#91B859;"> /opt/Python-</span><span style="color:#90A4AE;">$version</span><span style="color:#91B859;">.tar.xz</span><span style="color:#91B859;"> -C</span><span style="color:#90A4AE;"> $src_dir</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6182B8;">cd</span><span style="color:#90A4AE;"> $src_dir</span><span style="color:#91B859;">/Python-</span><span style="color:#90A4AE;">$version</span></span>
<span class="line"><span style="color:#E2931D;">sudo</span><span style="color:#91B859;"> apt</span><span style="color:#91B859;"> install</span><span style="color:#91B859;"> -y</span><span style="color:#91B859;"> clang</span><span style="color:#91B859;"> build-essential</span><span style="color:#91B859;"> gdb</span><span style="color:#91B859;"> lcov</span><span style="color:#91B859;"> pkg-config</span><span style="color:#90A4AE;"> \\</span></span>
<span class="line"><span style="color:#91B859;">      libbz2-dev</span><span style="color:#91B859;"> libffi-dev</span><span style="color:#91B859;"> libgdbm-dev</span><span style="color:#91B859;"> libgdbm-compat-dev</span><span style="color:#91B859;"> liblzma-dev</span><span style="color:#90A4AE;"> \\</span></span>
<span class="line"><span style="color:#91B859;">      libncurses5-dev</span><span style="color:#91B859;"> libreadline6-dev</span><span style="color:#91B859;"> libsqlite3-dev</span><span style="color:#91B859;"> libssl-dev</span><span style="color:#90A4AE;"> \\</span></span>
<span class="line"><span style="color:#91B859;">      lzma</span><span style="color:#91B859;"> lzma-dev</span><span style="color:#91B859;"> tk-dev</span><span style="color:#91B859;"> uuid-dev</span><span style="color:#91B859;"> zlib1g-dev</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E2931D;">./configure</span><span style="color:#91B859;"> --prefix=</span><span style="color:#90A4AE;">$install_dir</span><span style="color:#91B859;"> CC=clang</span><span style="color:#91B859;"> --enable-optimizations</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E2931D;">make</span><span style="color:#91B859;"> -j</span><span style="color:#90A4AE;">$cpus</span><span style="color:#39ADB5;"> &amp;&amp;</span><span style="color:#E2931D;"> make</span><span style="color:#91B859;"> install</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#6182B8;">echo</span><span style="color:#39ADB5;"> &quot;</span><span style="color:#91B859;">PATH=</span><span style="color:#90A4AE;">$install_dir</span><span style="color:#91B859;">/bin:</span><span style="color:#90A4AE;">$PATH</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;"> &gt;</span><span style="color:#91B859;"> /etc/profile.d/python3.sh</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6182B8;">echo</span><span style="color:#91B859;"> run</span><span style="color:#91B859;"> source</span><span style="color:#91B859;"> /etc/profile</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div>`,1),o=[e];function r(c,t,i,y,b,A){return a(),n("div",null,o)}const u=s(p,[["render",r]]);export{m as __pageData,u as default};
