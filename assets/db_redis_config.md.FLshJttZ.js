import{_ as s,c as n,o as a,a4 as l}from"./chunks/framework.GYzjcnJh.js";const b=JSON.parse('{"title":"","description":"","frontmatter":{"date":"2024-03-01 12:35:01"},"headers":[],"relativePath":"db/redis/config.md","filePath":"backend/db/redis/config.md"}'),p={name:"db/redis/config.md"},o=l(`<h2 id="配置" tabindex="-1">配置 <a class="header-anchor" href="#配置" aria-label="Permalink to &quot;配置&quot;">​</a></h2><p><code>redis.conf</code></p><table tabindex="0"><thead><tr><th>Column1</th><th>Column2</th></tr></thead><tbody><tr><td>daemonize no</td><td>Redis 默认不是以守护进程的方式运行，可以通过该配置项修改，使用 yes 启用守护进程</td></tr><tr><td>pidfile /var/run/redis.pid</td><td>当 Redis 以守护进程方式运行时，Redis 默认会把 pid 写入 /var/run/redis.pid 文件，可以通过 pidfile 指定</td></tr><tr><td>bind 127.0.0.1</td><td>绑定的主机地址</td></tr><tr><td>port 6379</td><td>默认端口</td></tr><tr><td></td><td></td></tr></tbody></table><h2 id="redis多实例" tabindex="-1">Redis多实例 <a class="header-anchor" href="#redis多实例" aria-label="Permalink to &quot;Redis多实例&quot;">​</a></h2><ol><li>修改配置文件端口</li><li>修改pidfile路径</li><li>修改logfile路径</li></ol><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-lighter vp-code" tabindex="0"><code><span class="line"><span style="color:#90A4AE;">redis_dir</span><span style="color:#39ADB5;">=</span><span style="color:#91B859;">/myredis</span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;">port1</span><span style="color:#39ADB5;">=</span><span style="color:#91B859;">6381</span></span>
<span class="line"><span style="color:#90A4AE;">port2</span><span style="color:#39ADB5;">=</span><span style="color:#91B859;">6382</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6182B8;">cd</span><span style="color:#90A4AE;"> $redis_dir</span></span>
<span class="line"><span style="color:#E2931D;">cp</span><span style="color:#91B859;"> redis.conf</span><span style="color:#91B859;"> redis_</span><span style="color:#39ADB5;">\${</span><span style="color:#90A4AE;">port1</span><span style="color:#39ADB5;">}</span><span style="color:#91B859;">.conf</span></span>
<span class="line"><span style="color:#E2931D;">cp</span><span style="color:#91B859;"> redis.conf</span><span style="color:#91B859;"> redis_</span><span style="color:#39ADB5;">\${</span><span style="color:#90A4AE;">port2</span><span style="color:#39ADB5;">}</span><span style="color:#91B859;">.conf</span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;"># 实例1</span></span>
<span class="line"><span style="color:#E2931D;">sed</span><span style="color:#91B859;"> -i</span><span style="color:#39ADB5;"> &quot;</span><span style="color:#91B859;">/^port/c port </span><span style="color:#90A4AE;">$port1</span><span style="color:#39ADB5;">&quot;</span><span style="color:#90A4AE;"> $redis_dir</span><span style="color:#91B859;">/redis_</span><span style="color:#39ADB5;">\${</span><span style="color:#90A4AE;">port1</span><span style="color:#39ADB5;">}</span><span style="color:#91B859;">.conf</span></span>
<span class="line"><span style="color:#E2931D;">sed</span><span style="color:#91B859;"> -i</span><span style="color:#39ADB5;"> &quot;</span><span style="color:#91B859;">/^pidfile/c pidfile </span><span style="color:#39ADB5;">\${</span><span style="color:#90A4AE;">redis_dir</span><span style="color:#39ADB5;">}</span><span style="color:#91B859;">\\/redis_</span><span style="color:#39ADB5;">\${</span><span style="color:#90A4AE;">port1</span><span style="color:#39ADB5;">}</span><span style="color:#91B859;">.pid</span><span style="color:#39ADB5;">&quot;</span><span style="color:#90A4AE;"> $redis_dir</span><span style="color:#91B859;">/redis_</span><span style="color:#39ADB5;">\${</span><span style="color:#90A4AE;">port1</span><span style="color:#39ADB5;">}</span><span style="color:#91B859;">.conf</span></span>
<span class="line"><span style="color:#E2931D;">sed</span><span style="color:#91B859;"> -i</span><span style="color:#39ADB5;"> &quot;</span><span style="color:#91B859;">/^logfile/c logfile </span><span style="color:#39ADB5;">\${</span><span style="color:#90A4AE;">redis_dir</span><span style="color:#39ADB5;">}</span><span style="color:#91B859;">\\/redis_</span><span style="color:#39ADB5;">\${</span><span style="color:#90A4AE;">port1</span><span style="color:#39ADB5;">}</span><span style="color:#91B859;">.log</span><span style="color:#39ADB5;">&quot;</span><span style="color:#90A4AE;"> $redis_dir</span><span style="color:#91B859;">/redis_</span><span style="color:#39ADB5;">\${</span><span style="color:#90A4AE;">port1</span><span style="color:#39ADB5;">}</span><span style="color:#91B859;">.conf</span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;"># 实例2</span></span>
<span class="line"><span style="color:#E2931D;">sed</span><span style="color:#91B859;"> -i</span><span style="color:#39ADB5;"> &quot;</span><span style="color:#91B859;">/^port/c port </span><span style="color:#90A4AE;">$port2</span><span style="color:#39ADB5;">&quot;</span><span style="color:#90A4AE;"> $redis_dir</span><span style="color:#91B859;">/redis_</span><span style="color:#39ADB5;">\${</span><span style="color:#90A4AE;">port2</span><span style="color:#39ADB5;">}</span><span style="color:#91B859;">.conf</span></span>
<span class="line"><span style="color:#E2931D;">sed</span><span style="color:#91B859;"> -i</span><span style="color:#39ADB5;"> &quot;</span><span style="color:#91B859;">/^pidfile/c pidfile </span><span style="color:#39ADB5;">\${</span><span style="color:#90A4AE;">redis_dir</span><span style="color:#39ADB5;">}</span><span style="color:#91B859;">\\/redis_</span><span style="color:#39ADB5;">\${</span><span style="color:#90A4AE;">port2</span><span style="color:#39ADB5;">}</span><span style="color:#91B859;">.pid</span><span style="color:#39ADB5;">&quot;</span><span style="color:#90A4AE;"> $redis_dir</span><span style="color:#91B859;">/redis_</span><span style="color:#39ADB5;">\${</span><span style="color:#90A4AE;">port2</span><span style="color:#39ADB5;">}</span><span style="color:#91B859;">.conf</span></span>
<span class="line"><span style="color:#E2931D;">sed</span><span style="color:#91B859;"> -i</span><span style="color:#39ADB5;"> &quot;</span><span style="color:#91B859;">/^logfile/c logfile </span><span style="color:#39ADB5;">\${</span><span style="color:#90A4AE;">redis_dir</span><span style="color:#39ADB5;">}</span><span style="color:#91B859;">\\/redis_</span><span style="color:#39ADB5;">\${</span><span style="color:#90A4AE;">port2</span><span style="color:#39ADB5;">}</span><span style="color:#91B859;">.log</span><span style="color:#39ADB5;">&quot;</span><span style="color:#90A4AE;"> $redis_dir</span><span style="color:#91B859;">/redis_</span><span style="color:#39ADB5;">\${</span><span style="color:#90A4AE;">port2</span><span style="color:#39ADB5;">}</span><span style="color:#91B859;">.conf</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E2931D;">redis-server</span><span style="color:#90A4AE;"> $redis_dir</span><span style="color:#91B859;">/redis_</span><span style="color:#39ADB5;">\${</span><span style="color:#90A4AE;">port1</span><span style="color:#39ADB5;">}</span><span style="color:#91B859;">.conf</span><span style="color:#91B859;"> --port</span><span style="color:#90A4AE;"> $port1</span></span>
<span class="line"><span style="color:#E2931D;">redis-server</span><span style="color:#90A4AE;"> $redis_dir</span><span style="color:#91B859;">/redis_</span><span style="color:#39ADB5;">\${</span><span style="color:#90A4AE;">port2</span><span style="color:#39ADB5;">}</span><span style="color:#91B859;">.conf</span><span style="color:#91B859;"> --port</span><span style="color:#90A4AE;"> $port2</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E2931D;">ps</span><span style="color:#91B859;"> aux</span><span style="color:#39ADB5;"> |</span><span style="color:#E2931D;"> grep</span><span style="color:#91B859;"> redis</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h2 id="config命令" tabindex="-1">config命令 <a class="header-anchor" href="#config命令" aria-label="Permalink to &quot;config命令&quot;">​</a></h2><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-lighter vp-code" tabindex="0"><code><span class="line"><span style="color:#E2931D;">config</span><span style="color:#91B859;"> set</span><span style="color:#91B859;"> key</span><span style="color:#91B859;"> value</span></span>
<span class="line"><span style="color:#E2931D;">config</span><span style="color:#91B859;"> get</span><span style="color:#91B859;"> key</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E2931D;">config</span><span style="color:#91B859;"> set</span><span style="color:#91B859;"> requirepass</span><span style="color:#91B859;"> password</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div>`,8),e=[o];function r(t,c,i,y,d,A){return a(),n("div",null,e)}const u=s(p,[["render",r]]);export{b as __pageData,u as default};
