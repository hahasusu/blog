import{_ as s,c as a,o as n,a4 as l}from"./chunks/framework.GYzjcnJh.js";const d=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"linux/tomcat/compile-java.md","filePath":"linux/tomcat/compile-java.md"}'),e={name:"linux/tomcat/compile-java.md"},p=l(`<h2 id="maven" tabindex="-1">maven <a class="header-anchor" href="#maven" aria-label="Permalink to &quot;maven&quot;">​</a></h2><blockquote><p><code>POM</code>( Project Object Model，项目对象模型 ) 是 Maven 工程的基本工作单元，是一个 XML 文件，包含 了项目的基本信息，用于描述项目如何构建，声明项目依赖等，在执行任务或目标时，Maven 会在当前 目录中查找 pom 文件，通过读取pom文件获取所需的配置信息，然后执行目标</p></blockquote><ul><li>maven 官网: <a href="https://maven.apache.org/" target="_blank" rel="noreferrer">https://maven.apache.org/</a></li><li>maven 官方仓库: <a href="http://repo.maven.apache.org" target="_blank" rel="noreferrer">http://repo.maven.apache.org</a></li></ul><p><strong>maven下载</strong>：</p><p><strong>安装maven前必须安装java 环境</strong></p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-lighter vp-code" tabindex="0"><code><span class="line"><span style="color:#90A4AE;font-style:italic;">#官方</span></span>
<span class="line"><span style="color:#E2931D;">https://maven.apache.org/download.cgi</span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">#清华镜像源</span></span>
<span class="line"><span style="color:#E2931D;">http://mirrors.tuna.tsinghua.edu.cn/apache/maven</span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">#官方各版本下载地址，推荐使用次新版本</span></span>
<span class="line"><span style="color:#E2931D;">https://archive.apache.org/dist/maven/maven-3</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="包安装" tabindex="-1">包安装 <a class="header-anchor" href="#包安装" aria-label="Permalink to &quot;包安装&quot;">​</a></h3><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-lighter vp-code" tabindex="0"><code><span class="line"><span style="color:#39ADB5;">[</span><span style="color:#90A4AE;">root@rocky8 </span><span style="color:#39ADB5;">~]</span><span style="color:#90A4AE;">#yum -y install maven</span></span>
<span class="line"><span style="color:#39ADB5;">[</span><span style="color:#90A4AE;">root@rocky8 </span><span style="color:#39ADB5;">~]</span><span style="color:#90A4AE;">#mvn -v</span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">#镜像加速</span></span>
<span class="line"><span style="color:#39ADB5;">[</span><span style="color:#90A4AE;">root@rocky8 </span><span style="color:#39ADB5;">~]</span><span style="color:#90A4AE;">#vim /etc/maven/settings.xml</span></span>
<span class="line"><span style="color:#39ADB5;">&lt;</span><span style="color:#90A4AE;">mirrors</span><span style="color:#39ADB5;">&gt;</span></span>
<span class="line"><span style="color:#39ADB5;">    &lt;!</span><span style="color:#E2931D;">--阿里云镜像--</span><span style="color:#90A4AE;">&gt;</span></span>
<span class="line"><span style="color:#39ADB5;">    &lt;</span><span style="color:#E2931D;">mirror</span><span style="color:#90A4AE;">&gt;</span></span>
<span class="line"><span style="color:#39ADB5;">        &lt;</span><span style="color:#E2931D;">id</span><span style="color:#90A4AE;">&gt;</span><span style="color:#91B859;">nexus-aliyun</span><span style="color:#90A4AE;">&lt;/id&gt;</span></span>
<span class="line"><span style="color:#39ADB5;">        &lt;</span><span style="color:#E2931D;">mirrorOf</span><span style="color:#90A4AE;">&gt;</span><span style="color:#91B859;">*</span><span style="color:#90A4AE;">&lt;/mirrorOf&gt;</span></span>
<span class="line"><span style="color:#39ADB5;">        &lt;</span><span style="color:#E2931D;">name</span><span style="color:#90A4AE;">&gt;</span><span style="color:#91B859;">Nexus</span><span style="color:#91B859;"> aliyun</span><span style="color:#39ADB5;">&lt;</span><span style="color:#91B859;">/nam</span><span style="color:#90A4AE;">e</span><span style="color:#39ADB5;">&gt;</span></span>
<span class="line"><span style="color:#39ADB5;">        &lt;</span><span style="color:#E2931D;">url</span><span style="color:#90A4AE;">&gt;</span><span style="color:#91B859;">http://maven.aliyun.com/nexus/content/groups/public</span><span style="color:#90A4AE;">&lt;/url&gt;</span></span>
<span class="line"><span style="color:#39ADB5;">    &lt;</span><span style="color:#E2931D;">/mirror</span><span style="color:#90A4AE;">&gt;</span></span>
<span class="line"><span style="color:#39ADB5;">&lt;</span><span style="color:#90A4AE;">/mirrors</span><span style="color:#39ADB5;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="二进制安装" tabindex="-1">二进制安装 <a class="header-anchor" href="#二进制安装" aria-label="Permalink to &quot;二进制安装&quot;">​</a></h3><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-lighter vp-code" tabindex="0"><code><span class="line"><span style="color:#E2931D;">wget</span><span style="color:#91B859;"> https://mirrors.tuna.tsinghua.edu.cn/apache/maven/maven-3/3.6.3/binaries/apache-</span><span style="color:#91B859;"> maven-3.6.3-bin.tar.gz</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E2931D;">tar</span><span style="color:#91B859;"> xf</span><span style="color:#91B859;"> apache-maven-3.6.3-bin.tar.gz</span><span style="color:#91B859;"> -C</span><span style="color:#91B859;"> /usr/local/</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E2931D;">ln</span><span style="color:#91B859;"> -s</span><span style="color:#91B859;"> /usr/local/apache-maven-3.6.3/</span><span style="color:#91B859;"> /usr/local/maven</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6182B8;">echo</span><span style="color:#39ADB5;"> &#39;</span><span style="color:#91B859;">PATH=/usr/local/maven/bin:$PATH</span><span style="color:#39ADB5;">&#39;</span><span style="color:#39ADB5;"> &gt;</span><span style="color:#91B859;"> /etc/profile.d/maven.sh</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6182B8;">.</span><span style="color:#91B859;"> /etc/profile.d/maven.sh</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E2931D;">mvn</span><span style="color:#91B859;"> -v</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="使用" tabindex="-1">使用 <a class="header-anchor" href="#使用" aria-label="Permalink to &quot;使用&quot;">​</a></h3><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-lighter vp-code" tabindex="0"><code><span class="line"><span style="color:#90A4AE;font-style:italic;"># 进入到包含有“pom.xml”的路径</span></span>
<span class="line"><span style="color:#E2931D;">mvn</span><span style="color:#91B859;"> clean</span><span style="color:#91B859;"> install</span><span style="color:#91B859;"> package</span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;"># 有的时候受到测试的干扰，导致无法正在进行编译，这时候可以选择跳过测试</span></span>
<span class="line"><span style="color:#E2931D;">mvn</span><span style="color:#91B859;"> clean</span><span style="color:#91B859;"> install</span><span style="color:#91B859;"> package</span><span style="color:#91B859;"> -Dmaven.test.skip=true</span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;"># 如果需要编译的代码很庞大，需要考虑对编译环境做一些处理，提成编译效率</span></span>
<span class="line"><span style="color:#E2931D;">启动多线程编译：mvn</span><span style="color:#91B859;"> -T</span><span style="color:#F76D47;"> 4</span><span style="color:#91B859;"> clean</span><span style="color:#91B859;"> install</span><span style="color:#91B859;"> package</span><span style="color:#91B859;"> -Dmaven.test.skip=true</span></span>
<span class="line"><span style="color:#E2931D;">分配编译的CPU</span><span style="color:#91B859;"> 个数：mvn</span><span style="color:#91B859;"> -T</span><span style="color:#91B859;"> 2C</span><span style="color:#91B859;"> clean</span><span style="color:#91B859;"> install</span><span style="color:#91B859;"> package</span><span style="color:#91B859;"> -Dmaven.test.skip=true</span></span>
<span class="line"><span style="color:#E2931D;">启用多线程编译：mvn</span><span style="color:#91B859;"> clean</span><span style="color:#91B859;"> install</span><span style="color:#91B859;"> package</span><span style="color:#91B859;"> -Dmaven.test.skip=true</span><span style="color:#91B859;"> -</span></span>
<span class="line"><span style="color:#E2931D;">Dmaven.compile.fork</span><span style="color:#91B859;">=</span><span style="color:#6182B8;">true</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="编译-java-程序-jpress" tabindex="-1">编译 java 程序 jpress <a class="header-anchor" href="#编译-java-程序-jpress" aria-label="Permalink to &quot;编译 java 程序 jpress&quot;">​</a></h3><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-lighter vp-code" tabindex="0"><code><span class="line"><span style="color:#E2931D;">wget</span><span style="color:#39ADB5;"> &#39;</span><span style="color:#91B859;">https://gitee.com/JPressProjects/jpress/repository/archive/v4.2.0?format=tar.gz</span><span style="color:#39ADB5;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E2931D;">tar</span><span style="color:#91B859;"> xf</span><span style="color:#91B859;"> jpress-v4.2.0.tar_gz</span></span>
<span class="line"><span style="color:#6182B8;">cd</span><span style="color:#91B859;"> jpress-v4.2.0/</span></span>
<span class="line"><span style="color:#E2931D;">mvn</span><span style="color:#91B859;"> clean</span><span style="color:#91B859;"> install</span><span style="color:#91B859;"> package</span><span style="color:#91B859;"> -Dmaven.test.skip=true</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E2931D;">cp</span><span style="color:#91B859;"> starter-tomcat/target/starter-tomcat-4.0.war</span><span style="color:#91B859;"> /usr/local/tomcat/webapps/jpress.war</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div>`,14),o=[p];function r(t,c,i,m,y,b){return n(),a("div",null,o)}const h=s(e,[["render",r]]);export{d as __pageData,h as default};
