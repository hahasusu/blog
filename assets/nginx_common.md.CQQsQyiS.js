import{_ as s,c as n,o as a,a4 as l}from"./chunks/framework.GYzjcnJh.js";const d=JSON.parse('{"title":"","description":"","frontmatter":{"date":"2024-03-12 09:35:03"},"headers":[],"relativePath":"nginx/common.md","filePath":"backend/nginx/common.md"}'),p={name:"nginx/common.md"},e=l(`<h2 id="用户认证" tabindex="-1">用户认证 <a class="header-anchor" href="#用户认证" aria-label="Permalink to &quot;用户认证&quot;">​</a></h2><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-lighter vp-code" tabindex="0"><code><span class="line"><span style="color:#E2931D;">http</span><span style="color:#91B859;">{</span></span>
<span class="line"><span style="color:#6182B8;">    ...</span></span>
<span class="line"><span style="color:#E2931D;">    server</span><span style="color:#91B859;"> {</span></span>
<span class="line"><span style="color:#6182B8;">        ...</span></span>
<span class="line"><span style="color:#E2931D;">        location</span><span style="color:#91B859;"> /login</span><span style="color:#91B859;"> {</span></span>
<span class="line"><span style="color:#E2931D;">            root</span><span style="color:#91B859;"> /index</span><span style="color:#39ADB5;">;</span></span>
<span class="line"><span style="color:#E2931D;">            auth_basic</span><span style="color:#39ADB5;"> &#39;</span><span style="color:#91B859;">username</span><span style="color:#39ADB5;">&#39;</span><span style="color:#39ADB5;">;</span></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">            # 可用htpasswd -c filepath 加密</span></span>
<span class="line"><span style="color:#E2931D;">            auth_basic_user_file</span><span style="color:#91B859;"> file_path</span><span style="color:#39ADB5;">;</span></span>
<span class="line"><span style="color:#90A4AE;">        }</span></span>
<span class="line"><span style="color:#90A4AE;">    }</span></span>
<span class="line"><span style="color:#90A4AE;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id="目录浏览" tabindex="-1">目录浏览 <a class="header-anchor" href="#目录浏览" aria-label="Permalink to &quot;目录浏览&quot;">​</a></h2><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-lighter vp-code" tabindex="0"><code><span class="line"><span style="color:#E2931D;">location</span><span style="color:#91B859;"> /files</span><span style="color:#91B859;"> {</span></span>
<span class="line"><span style="color:#E2931D;">    root</span><span style="color:#91B859;"> /data/nginx/html/pc</span><span style="color:#39ADB5;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E2931D;">    autoindex</span><span style="color:#91B859;"> on</span><span style="color:#39ADB5;">;</span></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">    #计算文件确切大小（单位bytes），此为默认值,off只显示大概大小（单位kb、mb、gb）</span></span>
<span class="line"><span style="color:#E2931D;">    autoindex_exact_size</span><span style="color:#91B859;"> on</span><span style="color:#39ADB5;">;</span></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">    #on表示显示本机时间而非GMT(格林威治)时间,默为为off显示GMT时间</span></span>
<span class="line"><span style="color:#E2931D;">    autoindex_localtime</span><span style="color:#91B859;"> on</span><span style="color:#39ADB5;">;</span></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">    # 默认html (xml  json  jsonp)</span></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">    # autoindex_format html;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">    #限速,默认不限速</span></span>
<span class="line"><span style="color:#E2931D;">    limit_rate</span><span style="color:#91B859;"> 1024k</span><span style="color:#39ADB5;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h2 id="访问控制" tabindex="-1">访问控制 <a class="header-anchor" href="#访问控制" aria-label="Permalink to &quot;访问控制&quot;">​</a></h2><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-lighter vp-code" tabindex="0"><code><span class="line"><span style="color:#E2931D;">location</span><span style="color:#91B859;"> /about</span><span style="color:#91B859;"> {</span></span>
<span class="line"><span style="color:#6182B8;">    alias</span><span style="color:#91B859;"> /data/nginx/html/pc</span><span style="color:#39ADB5;">;</span></span>
<span class="line"><span style="color:#E2931D;">    index</span><span style="color:#91B859;"> index.html</span><span style="color:#39ADB5;">;</span></span>
<span class="line"><span style="color:#E2931D;">    deny</span><span style="color:#F76D47;"> 192.168.1.1</span><span style="color:#39ADB5;">;</span></span>
<span class="line"><span style="color:#E2931D;">    allow</span><span style="color:#91B859;"> 192.168.1.0/24</span><span style="color:#39ADB5;">;</span></span>
<span class="line"><span style="color:#E2931D;">    allow</span><span style="color:#91B859;"> 10.1.1.0/16</span><span style="color:#39ADB5;">;</span></span>
<span class="line"><span style="color:#E2931D;">    allow</span><span style="color:#91B859;"> 2001:0db8::/32</span><span style="color:#39ADB5;">;</span></span>
<span class="line"><span style="color:#E2931D;">    deny</span><span style="color:#91B859;"> all</span><span style="color:#39ADB5;">;</span><span style="color:#90A4AE;font-style:italic;"> #按先小范围到大范围排序</span></span>
<span class="line"><span style="color:#90A4AE;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="nginx状态页" tabindex="-1">Nginx状态页 <a class="header-anchor" href="#nginx状态页" aria-label="Permalink to &quot;Nginx状态页&quot;">​</a></h2><blockquote><p>基于nginx 模块 ngx_http_stub_status_module 实现， 在编译安装nginx的时候需要添加编译参数 --with-http_stub_status_module</p></blockquote><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-lighter vp-code" tabindex="0"><code><span class="line"><span style="color:#E2931D;">location</span><span style="color:#91B859;"> /status</span><span style="color:#91B859;"> {</span></span>
<span class="line"><span style="color:#E2931D;">    stub_status</span><span style="color:#39ADB5;">;</span></span>
<span class="line"><span style="color:#E2931D;">    auth_basic</span><span style="color:#39ADB5;"> &#39;</span><span style="color:#91B859;">username</span><span style="color:#39ADB5;">&#39;</span><span style="color:#39ADB5;">;</span></span>
<span class="line"><span style="color:#E2931D;">    auth_basic_user_file</span><span style="color:#91B859;"> file_path</span><span style="color:#39ADB5;">;</span></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">    #allow ip;</span></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">    #deny ip;</span></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">    #deny all;</span></span>
<span class="line"><span style="color:#90A4AE;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div>`,9),o=[e];function c(r,t,i,b,y,u){return a(),n("div",null,o)}const h=s(p,[["render",c]]);export{d as __pageData,h as default};
