import{_ as s,c as a,o as n,a4 as e}from"./chunks/framework.GYzjcnJh.js";const u=JSON.parse('{"title":"为什么使用pnpm","description":"","frontmatter":{},"headers":[],"relativePath":"front/nodejs/pnpm.md","filePath":"front/nodejs/pnpm.md"}'),p={name:"front/nodejs/pnpm.md"},l=e(`<h1 id="为什么使用pnpm" tabindex="-1">为什么使用pnpm <a class="header-anchor" href="#为什么使用pnpm" aria-label="Permalink to &quot;为什么使用pnpm&quot;">​</a></h1><h2 id="_1-节省磁盘空间" tabindex="-1">1 节省磁盘空间 <a class="header-anchor" href="#_1-节省磁盘空间" aria-label="Permalink to &quot;1 节省磁盘空间&quot;">​</a></h2><p>使用 <code>npm</code> 时，依赖每次被不同的项目使用，都会重复安装一次。 而在使用 <code>pnpm</code> 时，依赖会被存储在内容可寻址的存储中，所以：</p><ol><li>如果你用到了某依赖项的不同版本，只会将不同版本间有差异的文件添加到仓库。 例如，如果某个包有100个文件，而它的新版本只改变了其中1个文件。那么 pnpm update 时只会向存储中心额外添加1个新文件，而不会因为仅仅一个文件的改变复制整新版本包的内容。</li><li>所有文件都会存储在硬盘上的某一位置。 当软件包被被安装时，包里的文件会硬链接到这一位置，而不会占用额外的磁盘空间。 这允许你跨项目地共享同一版本的依赖。</li></ol><h2 id="_2-提高安装速度" tabindex="-1">2 提高安装速度 <a class="header-anchor" href="#_2-提高安装速度" aria-label="Permalink to &quot;2 提高安装速度&quot;">​</a></h2><p><code>pnpm</code> 分三个阶段执行安装：</p><ol><li>依赖解析。 仓库中没有的依赖都被识别并获取到仓库。</li><li>目录结构计算。 <code>node_modules</code> 目录结构是根据依赖计算出来的。</li><li>链接依赖项。 所有以前安装过的依赖项都会直接从仓库中获取并链接到 <code>node_modules</code>。</li></ol><h2 id="安装pnpm" tabindex="-1">安装pnpm <a class="header-anchor" href="#安装pnpm" aria-label="Permalink to &quot;安装pnpm&quot;">​</a></h2><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-lighter vp-code" tabindex="0"><code><span class="line"><span style="color:#E2931D;">npm</span><span style="color:#91B859;"> i</span><span style="color:#91B859;"> -g</span><span style="color:#91B859;"> pnpm</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="配置" tabindex="-1">配置 <a class="header-anchor" href="#配置" aria-label="Permalink to &quot;配置&quot;">​</a></h2><p>pnpm 使用 npm 的配置 格式。 因此，您设置配置的方式应该与 npm 相同。 例如</p><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-lighter vp-code" tabindex="0"><code><span class="line"><span style="color:#E2931D;">pnpm</span><span style="color:#91B859;"> config</span><span style="color:#91B859;"> set</span><span style="color:#91B859;"> store-dir</span><span style="color:#91B859;"> /path/to/.pnpm-store</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>此外，pnpm 使用与 npm 相同的配置进行安装。 如果您有一个私有源并且 npm 被配置使用它， pnpm 应该不需要额外的配置也能够授权请求。</p><h2 id="常用命令" tabindex="-1">常用命令 <a class="header-anchor" href="#常用命令" aria-label="Permalink to &quot;常用命令&quot;">​</a></h2><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-lighter vp-code" tabindex="0"><code><span class="line"><span style="color:#E2931D;">pnpm</span><span style="color:#91B859;"> install</span><span style="color:#39ADB5;">(</span><span style="color:#E2931D;">pnpm</span><span style="color:#91B859;"> i</span><span style="color:#39ADB5;">)</span><span style="color:#91B859;"> 用于安装项目所有依赖</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E2931D;">pnpm</span><span style="color:#91B859;"> add</span><span style="color:#39ADB5;"> &lt;</span><span style="color:#91B859;">pk</span><span style="color:#90A4AE;">g</span><span style="color:#39ADB5;">&gt;</span><span style="color:#91B859;"> 保存到</span><span style="color:#91B859;"> dependencies</span></span>
<span class="line"><span style="color:#E2931D;">pnpm</span><span style="color:#91B859;"> add</span><span style="color:#91B859;"> -D</span><span style="color:#39ADB5;"> &lt;</span><span style="color:#91B859;">pk</span><span style="color:#90A4AE;">g</span><span style="color:#39ADB5;">&gt;</span><span style="color:#91B859;"> 保存到</span><span style="color:#91B859;"> devDependencies</span></span>
<span class="line"><span style="color:#E2931D;">pnpm</span><span style="color:#91B859;"> add</span><span style="color:#91B859;"> -g</span><span style="color:#39ADB5;"> &lt;</span><span style="color:#91B859;">pk</span><span style="color:#90A4AE;">g</span><span style="color:#39ADB5;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div>`,15),o=[l];function t(r,c,i,d,m,h){return n(),a("div",null,o)}const b=s(p,[["render",t]]);export{u as __pageData,b as default};
