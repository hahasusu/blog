import{_ as s,c as n,o as a,a4 as l}from"./chunks/framework.GYzjcnJh.js";const A=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"linux/scripts/index.md","filePath":"linux/scripts/index.md"}'),p={name:"linux/scripts/index.md"},e=l(`<h2 id="nginx-service" tabindex="-1">nginx service <a class="header-anchor" href="#nginx-service" aria-label="Permalink to &quot;nginx service&quot;">​</a></h2><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-lighter vp-code" tabindex="0"><code><span class="line"><span style="color:#90A4AE;font-style:italic;"># /usr/lib/systemd/system/nginx.service</span></span>
<span class="line"><span style="color:#39ADB5;">[</span><span style="color:#90A4AE;">Unit</span><span style="color:#39ADB5;">]</span></span>
<span class="line"><span style="color:#90A4AE;">Description</span><span style="color:#39ADB5;">=</span><span style="color:#91B859;">The</span><span style="color:#E2931D;"> nginx</span><span style="color:#91B859;"> HTTP</span><span style="color:#91B859;"> and</span><span style="color:#91B859;"> reverse</span><span style="color:#91B859;"> proxy</span><span style="color:#91B859;"> server</span></span>
<span class="line"><span style="color:#90A4AE;">After</span><span style="color:#39ADB5;">=</span><span style="color:#91B859;">network.target</span><span style="color:#E2931D;"> remote-fs.target</span><span style="color:#91B859;"> nss-lookup.target</span></span>
<span class="line"></span>
<span class="line"><span style="color:#39ADB5;">[</span><span style="color:#90A4AE;">Service</span><span style="color:#39ADB5;">]</span></span>
<span class="line"><span style="color:#90A4AE;">Type</span><span style="color:#39ADB5;">=</span><span style="color:#91B859;">forking</span></span>
<span class="line"><span style="color:#90A4AE;">PIDFile</span><span style="color:#39ADB5;">=</span><span style="color:#91B859;">/run/nginx.pid</span></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;"># Nginx will fail to start if /run/nginx.pid already exists but has the wrong</span></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;"># SELinux context. This might happen when running \`nginx -t\` from the cmdline.</span></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;"># https://bugzilla.redhat.com/show_bug.cgi?id=1268621</span></span>
<span class="line"><span style="color:#90A4AE;">ExecStartPre</span><span style="color:#39ADB5;">=</span><span style="color:#91B859;">/usr/bin/rm</span><span style="color:#E2931D;"> -f</span><span style="color:#91B859;"> /run/nginx.pid</span></span>
<span class="line"><span style="color:#90A4AE;">ExecStartPre</span><span style="color:#39ADB5;">=</span><span style="color:#91B859;">/usr/sbin/nginx</span><span style="color:#E2931D;"> -t</span></span>
<span class="line"><span style="color:#90A4AE;">ExecStart</span><span style="color:#39ADB5;">=</span><span style="color:#91B859;">/usr/sbin/nginx</span></span>
<span class="line"><span style="color:#90A4AE;">ExecReload</span><span style="color:#39ADB5;">=</span><span style="color:#91B859;">/bin/kill</span><span style="color:#E2931D;"> -s</span><span style="color:#91B859;"> HUP</span><span style="color:#90A4AE;"> $MAINPID</span></span>
<span class="line"><span style="color:#90A4AE;">KillSignal</span><span style="color:#39ADB5;">=</span><span style="color:#91B859;">SIGQUIT</span></span>
<span class="line"><span style="color:#90A4AE;">TimeoutStopSec</span><span style="color:#39ADB5;">=</span><span style="color:#91B859;">5</span></span>
<span class="line"><span style="color:#90A4AE;">KillMode</span><span style="color:#39ADB5;">=</span><span style="color:#91B859;">mixed</span></span>
<span class="line"><span style="color:#90A4AE;">PrivateTmp</span><span style="color:#39ADB5;">=</span><span style="color:#91B859;">true</span></span>
<span class="line"></span>
<span class="line"><span style="color:#39ADB5;">[</span><span style="color:#90A4AE;">Install</span><span style="color:#39ADB5;">]</span></span>
<span class="line"><span style="color:#90A4AE;">WantedBy</span><span style="color:#39ADB5;">=</span><span style="color:#91B859;">multi-user.target</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h2 id="yum源" tabindex="-1">yum源 <a class="header-anchor" href="#yum源" aria-label="Permalink to &quot;yum源&quot;">​</a></h2><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-lighter vp-code" tabindex="0"><code><span class="line"><span style="color:#90A4AE;font-style:italic;"># /etc/yum.repos.d/yum.repo</span></span>
<span class="line"><span style="color:#39ADB5;">[</span><span style="color:#90A4AE;">BaseOS</span><span style="color:#39ADB5;">]</span></span>
<span class="line"><span style="color:#90A4AE;">name</span><span style="color:#39ADB5;">=</span><span style="color:#91B859;">BaseOS</span></span>
<span class="line"><span style="color:#90A4AE;">baseurl</span><span style="color:#39ADB5;">=</span><span style="color:#91B859;">https://mirrors.aliyun.com/rockylinux/8/BaseOS/x86_64/os/</span></span>
<span class="line"><span style="color:#90A4AE;">gpgcheck</span><span style="color:#39ADB5;">=</span><span style="color:#91B859;">0</span></span>
<span class="line"></span>
<span class="line"><span style="color:#39ADB5;">[</span><span style="color:#90A4AE;">AppStream</span><span style="color:#39ADB5;">]</span></span>
<span class="line"><span style="color:#90A4AE;">name</span><span style="color:#39ADB5;">=</span><span style="color:#91B859;">AppStream</span></span>
<span class="line"><span style="color:#90A4AE;">baseurl</span><span style="color:#39ADB5;">=</span><span style="color:#91B859;">https://mirrors.aliyun.com/rockylinux/8/AppStream/x86_64/os/</span></span>
<span class="line"><span style="color:#90A4AE;">gpgcheck</span><span style="color:#39ADB5;">=</span><span style="color:#91B859;">0</span></span>
<span class="line"></span>
<span class="line"><span style="color:#39ADB5;">[</span><span style="color:#90A4AE;">EPEL</span><span style="color:#39ADB5;">]</span></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;"># name=EPEL</span></span>
<span class="line"><span style="color:#90A4AE;">name</span><span style="color:#39ADB5;">=</span><span style="color:#91B859;">Extra</span><span style="color:#E2931D;"> Packages</span><span style="color:#91B859;"> for</span><span style="color:#91B859;"> Enterprise</span><span style="color:#91B859;"> Linux</span><span style="color:#90A4AE;"> $releasever </span><span style="color:#91B859;">-</span><span style="color:#90A4AE;"> $basearch</span></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;"># baseurl=https://mirrors.ustc.edu.cn/epel/$releasever/Everything/$basearch</span></span>
<span class="line"><span style="color:#90A4AE;">baseurl</span><span style="color:#39ADB5;">=</span><span style="color:#91B859;">https://mirrors.ustc.edu.cn/epel/</span><span style="color:#90A4AE;">$releasever</span><span style="color:#91B859;">/Everything/</span><span style="color:#90A4AE;">$basearch</span></span>
<span class="line"><span style="color:#E2931D;">        https://mirrors.aliyun.com/epel/8/Everything/x86_64/</span></span>
<span class="line"><span style="color:#90A4AE;">gpgcheck</span><span style="color:#39ADB5;">=</span><span style="color:#91B859;">0</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h2 id="ubuntu源" tabindex="-1">Ubuntu源 <a class="header-anchor" href="#ubuntu源" aria-label="Permalink to &quot;Ubuntu源&quot;">​</a></h2><ul><li>阿里云: <a href="https://developer.aliyun.com/mirror/ubuntu" target="_blank" rel="noreferrer">https://developer.aliyun.com/mirror/ubuntu</a></li><li>清华大学: <a href="https://mirrors.tuna.tsinghua.edu.cn/help/ubuntu/" target="_blank" rel="noreferrer">https://mirrors.tuna.tsinghua.edu.cn/help/ubuntu/</a></li><li>中科大: <a href="https://mirrors.ustc.edu.cn/help/ubuntu.html" target="_blank" rel="noreferrer">https://mirrors.ustc.edu.cn/help/ubuntu.html</a></li></ul><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-lighter vp-code" tabindex="0"><code><span class="line"><span style="color:#E2931D;">阿里云</span></span>
<span class="line"><span style="color:#E2931D;">vim</span><span style="color:#91B859;"> /etc/apt/sources.list</span></span>
<span class="line"><span style="color:#E2931D;">替换</span></span>
<span class="line"><span style="color:#E2931D;">http://archive.ubuntu.com/</span></span>
<span class="line"><span style="color:#E2931D;">为</span></span>
<span class="line"><span style="color:#E2931D;">http://mirrors.aliyun.com/</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E2931D;">中科大</span></span>
<span class="line"><span style="color:#E2931D;">一般情况下，将</span><span style="color:#91B859;"> /etc/apt/sources.list</span><span style="color:#91B859;"> 文件中</span><span style="color:#91B859;"> Ubuntu</span><span style="color:#91B859;"> 默认的源地址</span><span style="color:#91B859;"> http://archive.ubuntu.com/</span><span style="color:#90A4AE;"> </span></span>
<span class="line"><span style="color:#E2931D;">替换为</span><span style="color:#91B859;"> http://mirrors.ustc.edu.cn/</span><span style="color:#91B859;"> 即可。</span></span>
<span class="line"><span style="color:#E2931D;">sudo</span><span style="color:#91B859;"> sed</span><span style="color:#91B859;"> -i</span><span style="color:#39ADB5;"> &#39;</span><span style="color:#91B859;">s@//.*archive.ubuntu.com@//mirrors.ustc.edu.cn@g</span><span style="color:#39ADB5;">&#39;</span><span style="color:#91B859;"> /etc/apt/sources.list</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div>`,7),r=[e];function o(c,t,i,u,y,b){return a(),n("div",null,r)}const B=s(p,[["render",o]]);export{A as __pageData,B as default};
