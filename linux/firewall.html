<!DOCTYPE html>
<html lang="zh-CN" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>博客展示ovo-博客展示ovo</title>
    <meta name="description" content="A VitePress site">
    <meta name="generator" content="VitePress v1.3.1">
    <link rel="preload stylesheet" href="/blog/assets/style.C3IpHLV0.css" as="style">
    <script type="module" src="/blog/assets/chunks/metadata.1c2bbd70.js"></script>
    <script type="module" src="/blog/assets/app.B-PRbVRY.js"></script>
    <link rel="preload" href="/blog/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/blog/assets/chunks/framework.GYzjcnJh.js">
    <link rel="modulepreload" href="/blog/assets/chunks/theme.Cm92knlu.js">
    <link rel="modulepreload" href="/blog/assets/linux_firewall.md.1CX6lIfe.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-5d98c3a5><!--[--><!--]--><!--[--><span tabindex="-1" data-v-0f60ec36></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-0f60ec36> Skip to content </a><!--]--><!----><header class="VPNav" data-v-5d98c3a5 data-v-ae24b3ad><div class="VPNavBar has-sidebar top" data-v-ae24b3ad data-v-6aa21345><div class="wrapper" data-v-6aa21345><div class="container" data-v-6aa21345><div class="title" data-v-6aa21345><div class="VPNavBarTitle has-sidebar" data-v-6aa21345 data-v-ab179fa1><a class="title" href="/blog/" data-v-ab179fa1><!--[--><!--]--><!----><span data-v-ab179fa1>一昂</span><!--[--><!--]--></a></div></div><div class="content" data-v-6aa21345><div class="content-body" data-v-6aa21345><!--[--><!--]--><div class="VPNavBarSearch search" data-v-6aa21345><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-6aa21345 data-v-dc692963><span id="main-nav-aria-label" class="visually-hidden" data-v-dc692963> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/blog/" tabindex="0" data-v-dc692963 data-v-9c663999><!--[--><span data-v-9c663999>Home</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/blog/linux/grep" tabindex="0" data-v-dc692963 data-v-9c663999><!--[--><span data-v-9c663999>Linux</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-dc692963 data-v-b6c34ac9><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-b6c34ac9><span class="text" data-v-b6c34ac9><!----><span data-v-b6c34ac9>前端</span><span class="vpi-chevron-down text-icon" data-v-b6c34ac9></span></span></button><div class="menu" data-v-b6c34ac9><div class="VPMenu" data-v-b6c34ac9 data-v-b98bc113><div class="items" data-v-b98bc113><!--[--><!--[--><div class="VPMenuGroup" data-v-b98bc113 data-v-69e747b5><p class="title" data-v-69e747b5>基础</p><!--[--><!--[--><div class="VPMenuLink" data-v-69e747b5 data-v-43f1e123><a class="VPLink link" href="/blog/front/html/base" data-v-43f1e123><!--[-->HTML<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-69e747b5 data-v-43f1e123><a class="VPLink link" href="/blog/front/css/base" data-v-43f1e123><!--[-->CSS<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-69e747b5 data-v-43f1e123><a class="VPLink link" href="/blog/front/js" data-v-43f1e123><!--[-->JavaScript<!--]--></a></div><!--]--><!--]--></div><!--]--><!--[--><div class="VPMenuGroup" data-v-b98bc113 data-v-69e747b5><p class="title" data-v-69e747b5>框架</p><!--[--><!--[--><div class="VPMenuLink" data-v-69e747b5 data-v-43f1e123><a class="VPLink link" href="/blog/front/bootstrap5" data-v-43f1e123><!--[-->BootStrap5<!--]--></a></div><!--]--><!--]--></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-dc692963 data-v-b6c34ac9><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-b6c34ac9><span class="text" data-v-b6c34ac9><!----><span data-v-b6c34ac9>后端</span><span class="vpi-chevron-down text-icon" data-v-b6c34ac9></span></span></button><div class="menu" data-v-b6c34ac9><div class="VPMenu" data-v-b6c34ac9 data-v-b98bc113><div class="items" data-v-b98bc113><!--[--><!--[--><div class="VPMenuLink" data-v-b98bc113 data-v-43f1e123><a class="VPLink link" href="/blog/nginx/install" data-v-43f1e123><!--[-->Nginx<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-b98bc113 data-v-43f1e123><a class="VPLink link" href="/blog/backend/caddy" data-v-43f1e123><!--[-->Caddy<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-b98bc113 data-v-43f1e123><a class="VPLink link" href="/blog/backend/docker/install" data-v-43f1e123><!--[-->Docker<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-b98bc113 data-v-43f1e123><a class="VPLink link" href="/blog/db/mysql/install" data-v-43f1e123><!--[-->数据库<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-b98bc113 data-v-43f1e123><a class="VPLink link" href="/blog/python/install" data-v-43f1e123><!--[-->Python3<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-b98bc113 data-v-43f1e123><a class="VPLink link" href="/blog/backend/go/" data-v-43f1e123><!--[-->GoLang<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-b98bc113 data-v-43f1e123><a class="VPLink link" href="/blog/backend/java/" data-v-43f1e123><!--[-->Java<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/blog/other/os" tabindex="0" data-v-dc692963 data-v-9c663999><!--[--><span data-v-9c663999>其它</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/blog/devops/jenkins" tabindex="0" data-v-dc692963 data-v-9c663999><!--[--><span data-v-9c663999>运维</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/blog/classical/" tabindex="0" data-v-dc692963 data-v-9c663999><!--[--><span data-v-9c663999>玄</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/blog/tools/some_tool_url" tabindex="0" data-v-dc692963 data-v-9c663999><!--[--><span data-v-9c663999>工具软件</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/blog/network/" tabindex="0" data-v-dc692963 data-v-9c663999><!--[--><span data-v-9c663999>网络</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/blog/fq/clash-meta/" tabindex="0" data-v-dc692963 data-v-9c663999><!--[--><span data-v-9c663999>科学</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/blog/video/" tabindex="0" data-v-dc692963 data-v-9c663999><!--[--><span data-v-9c663999>视频</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-6aa21345 data-v-6c893767><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-6c893767 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-6aa21345 data-v-0394ad82 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/hahasusu" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-eee4e7cb><span class="vpi-social-github" /></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-6aa21345 data-v-bb2aa2f0 data-v-b6c34ac9><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-b6c34ac9><span class="vpi-more-horizontal icon" data-v-b6c34ac9></span></button><div class="menu" data-v-b6c34ac9><div class="VPMenu" data-v-b6c34ac9 data-v-b98bc113><!----><!--[--><!--[--><!----><div class="group" data-v-bb2aa2f0><div class="item appearance" data-v-bb2aa2f0><p class="label" data-v-bb2aa2f0>Appearance</p><div class="appearance-action" data-v-bb2aa2f0><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-bb2aa2f0 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div></div></div><div class="group" data-v-bb2aa2f0><div class="item social-links" data-v-bb2aa2f0><div class="VPSocialLinks social-links-list" data-v-bb2aa2f0 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/hahasusu" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-eee4e7cb><span class="vpi-social-github" /></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-6aa21345 data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><div class="divider" data-v-6aa21345><div class="divider-line" data-v-6aa21345></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-5d98c3a5 data-v-a6f0e41e><div class="container" data-v-a6f0e41e><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-a6f0e41e><span class="vpi-align-left menu-icon" data-v-a6f0e41e></span><span class="menu-text" data-v-a6f0e41e>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-a6f0e41e data-v-17a5e62e><button data-v-17a5e62e>返回顶部</button><!----></div></div></div><aside class="VPSidebar" data-v-5d98c3a5 data-v-319d5ca6><div class="curtain" data-v-319d5ca6></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-319d5ca6><span class="visually-hidden" id="sidebar-aria-label" data-v-319d5ca6> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0 collapsible" data-v-c40bc020 data-v-b7550ba0><div class="item" role="button" tabindex="0" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><h2 class="text" data-v-b7550ba0>Linux三剑客</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b7550ba0><span class="vpi-chevron-right caret-icon" data-v-b7550ba0></span></div></div><div class="items" data-v-b7550ba0><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/blog/linux/grep" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>Grep</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/blog/linux/sed" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>Sed</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/blog/linux/awk" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>AWK</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0 collapsible collapsed" data-v-c40bc020 data-v-b7550ba0><div class="item" role="button" tabindex="0" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><h2 class="text" data-v-b7550ba0>Tomcat</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b7550ba0><span class="vpi-chevron-right caret-icon" data-v-b7550ba0></span></div></div><div class="items" data-v-b7550ba0><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/blog/linux/tomcat/" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>安装</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/blog/linux/tomcat/file" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>文件</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/blog/linux/tomcat/deploy" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>应用部署</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/blog/linux/tomcat/compile-java" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>java程序编译</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/blog/linux/tomcat/" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>安装</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0" data-v-c40bc020 data-v-b7550ba0><!----><div class="items" data-v-b7550ba0><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/blog/linux/%E8%87%AA%E5%BB%BAyum%E4%BB%93%E5%BA%93" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>自建yum仓库</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/blog/linux/command" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>常用命令</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/blog/linux/%E4%B8%AA%E4%BA%BA%E4%B8%BB%E6%9C%BA" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>个人主机配置</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/blog/linux/rocky" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>Rocky8</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/blog/linux/ubuntu2204" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>Ubuntu2204</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0" data-v-c40bc020 data-v-b7550ba0><div class="item" role="button" tabindex="0" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><h2 class="text" data-v-b7550ba0>Vim && Neovim</h2><!----></div><div class="items" data-v-b7550ba0><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/blog/linux/vim" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>基本使用</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/blog/linux/vimpro" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>进阶用法</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/blog/linux/nvim" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>Neovim</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/blog/linux/lazy-nvim" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>Lazy.nvim</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/blog/linux/nvim-plugins" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>Neovim插件</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/blog/linux/nvim-lsp" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>LSP</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/blog/linux/helix" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>Helix</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0 has-active" data-v-c40bc020 data-v-b7550ba0><!----><div class="items" data-v-b7550ba0><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/blog/linux/ssh" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>SSH</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/blog/linux/openssl" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>OpenSSL</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/blog/linux/cfssl" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>Cfssl</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/blog/linux/ssl" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>SSL 证书</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/blog/linux/mkcert" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>Mkcert</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/blog/linux/dns" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>DNS</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/blog/linux/shell_base" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>shell基础</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/blog/linux/yum-dnf" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>yum和dnf</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/blog/linux/scripts/" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>脚本</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/blog/linux/route" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>路由</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/blog/linux/ntp" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>时间同步</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/blog/linux/disk" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>磁盘管理</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/blog/linux/network" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>网络管理</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/blog/linux/firewall" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>Linux防火墙</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/blog/linux/lnmp" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>LNMP wordpress搭建</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-5d98c3a5 data-v-1428d186><div class="VPDoc has-sidebar has-aside" data-v-1428d186 data-v-39a288b8><!--[--><!--]--><div class="container" data-v-39a288b8><div class="aside" data-v-39a288b8><div class="aside-curtain" data-v-39a288b8></div><div class="aside-container" data-v-39a288b8><div class="aside-content" data-v-39a288b8><div class="VPDocAside" data-v-39a288b8 data-v-3f215769><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-3f215769 data-v-a5bbad30><div class="content" data-v-a5bbad30><div class="outline-marker" data-v-a5bbad30></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-a5bbad30>目录</div><ul class="VPDocOutlineItem root" data-v-a5bbad30 data-v-b933a997><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-39a288b8><div class="content-container" data-v-39a288b8><!--[--><!--]--><main class="main" data-v-39a288b8><div style="position:relative;" class="vp-doc _blog_linux_firewall" data-v-39a288b8><div><h2 id="linux防火墙" tabindex="-1">Linux防火墙 <a class="header-anchor" href="#linux防火墙" aria-label="Permalink to &quot;Linux防火墙&quot;">​</a></h2><blockquote><p>ConterOS7.0之后使用的是firewall，ConterOS7.0之前使用的是iptables</p></blockquote><h2 id="iptables" tabindex="-1">iptables <a class="header-anchor" href="#iptables" aria-label="Permalink to &quot;iptables&quot;">​</a></h2><blockquote><p>ipatbles命令仅仅是用户空间的linux内核防火墙管理工具，真正的功能实现是由linux内核模块<code>netfilter</code>实现的</p><p>ipatbles命令仅支持ipv4，如果使用的IP协议是ipv6则需要使用专门的管理工具ip6tables。</p></blockquote><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-lighter vp-code" tabindex="0"><code><span class="line"><span style="color:#E2931D;">iptables(选项</span><span style="color:#90A4AE;">)(</span><span style="color:#E2931D;">参数</span><span style="color:#90A4AE;">)</span></span>
<span class="line"><span style="color:#E2931D;">iptables</span><span style="color:#91B859;"> -t</span><span style="color:#91B859;"> 表名</span><span style="color:#39ADB5;"> &lt;</span><span style="color:#91B859;">-A/I/D/</span><span style="color:#90A4AE;">R</span><span style="color:#39ADB5;">&gt;</span><span style="color:#91B859;"> 规则链名</span><span style="color:#90A4AE;"> [规则号] </span><span style="color:#39ADB5;">&lt;</span><span style="color:#90A4AE;">-i/o 网卡名</span><span style="color:#39ADB5;">&gt;</span><span style="color:#90A4AE;"> -p 协议名 </span><span style="color:#39ADB5;">&lt;</span><span style="color:#90A4AE;">-s 源IP/源子网</span><span style="color:#39ADB5;">&gt;</span><span style="color:#90A4AE;"> --sport 源端口 </span><span style="color:#39ADB5;">&lt;</span><span style="color:#90A4AE;">-d 目标IP/目标子网</span><span style="color:#39ADB5;">&gt;</span><span style="color:#90A4AE;"> --dport 目标端口 -j 动作</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>选项</strong></p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-lighter vp-code" tabindex="0"><code><span class="line"><span style="color:#E2931D;">-t,</span><span style="color:#91B859;"> --table</span><span style="color:#91B859;"> table</span><span style="color:#91B859;"> 对指定的表</span><span style="color:#91B859;"> table</span><span style="color:#91B859;"> 进行操作，</span><span style="color:#91B859;"> table</span><span style="color:#91B859;"> 必须是</span><span style="color:#91B859;"> raw，</span><span style="color:#91B859;"> nat，filter，mangle</span><span style="color:#91B859;"> 中的一个。如果不指定此选项，默认的是</span><span style="color:#91B859;"> filter</span><span style="color:#91B859;"> 表。</span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;"># 通用匹配：源地址目标地址的匹配</span></span>
<span class="line"><span style="color:#E2931D;">-p：指定要匹配的数据包协议类型；</span></span>
<span class="line"><span style="color:#E2931D;">-s,</span><span style="color:#91B859;"> --source</span><span style="color:#90A4AE;"> [!] address[/mask] ：把指定的一个／一组地址作为源地址，按此规则进行过滤。当后面没有 mask 时，address 是一个地址，比如：192.168.1.1；当 mask 指定时，可以表示一组范围内的地址，比如：192.168.1.0/255.255.255.0。</span></span>
<span class="line"><span style="color:#E2931D;">-d,</span><span style="color:#91B859;"> --destination</span><span style="color:#90A4AE;"> [!] address[/mask] ：地址格式同上，但这里是指定地址为目的地址，按此进行过滤。</span></span>
<span class="line"><span style="color:#E2931D;">-i,</span><span style="color:#91B859;"> --in-interface</span><span style="color:#90A4AE;"> [!] &lt;网络接口name&gt; ：指定数据包的来自来自网络接口，比如最常见的 eth0 。注意：它只对 INPUT，FORWARD，PREROUTING 这三个链起作用。如果没有指定此选项， 说明可以来自任何一个网络接口。同前面类似，&quot;!&quot; 表示取反。</span></span>
<span class="line"><span style="color:#E2931D;">-o,</span><span style="color:#91B859;"> --out-interface</span><span style="color:#90A4AE;"> [!] &lt;网络接口name&gt; ：指定数据包出去的网络接口。只对 OUTPUT，FORWARD，POSTROUTING 三个链起作用。</span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;"># 查看管理命令</span></span>
<span class="line"><span style="color:#E2931D;">-L,</span><span style="color:#91B859;"> --list</span><span style="color:#90A4AE;"> [chain] 列出链 chain 上面的所有规则，如果没有指定链，列出表上所有链的所有规则。</span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;"># 规则管理命令</span></span>
<span class="line"><span style="color:#E2931D;">-A,</span><span style="color:#91B859;"> --append</span><span style="color:#91B859;"> chain</span><span style="color:#91B859;"> rule-specification</span><span style="color:#91B859;"> 在指定链</span><span style="color:#91B859;"> chain</span><span style="color:#91B859;"> 的末尾插入指定的规则，也就是说，这条规则会被放到最后，最后才会被执行。规则是由后面的匹配来指定。</span></span>
<span class="line"><span style="color:#E2931D;">-I,</span><span style="color:#91B859;"> --insert</span><span style="color:#91B859;"> chain</span><span style="color:#90A4AE;"> [rulenum] rule-specification 在链 chain 中的指定位置插入一条或多条规则。如果指定的规则号是1，则在链的头部插入。这也是默认的情况，如果没有指定规则号。</span></span>
<span class="line"><span style="color:#E2931D;">-D,</span><span style="color:#91B859;"> --delete</span><span style="color:#91B859;"> chain</span><span style="color:#91B859;"> rule-specification</span><span style="color:#91B859;"> -D,</span><span style="color:#91B859;"> --delete</span><span style="color:#91B859;"> chain</span><span style="color:#91B859;"> rulenum</span><span style="color:#91B859;"> 在指定的链</span><span style="color:#91B859;"> chain</span><span style="color:#91B859;"> 中删除一个或多个指定规则。</span></span>
<span class="line"><span style="color:#E2931D;">-R</span><span style="color:#91B859;"> num：Replays替换/修改第几条规则</span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;"># 链管理命令（这都是立即生效的）</span></span>
<span class="line"><span style="color:#E2931D;">-P,</span><span style="color:#91B859;"> --policy</span><span style="color:#91B859;"> chain</span><span style="color:#91B859;"> target</span><span style="color:#91B859;"> ：为指定的链</span><span style="color:#91B859;"> chain</span><span style="color:#91B859;"> 设置策略</span><span style="color:#91B859;"> target。注意，只有内置的链才允许有策略，用户自定义的是不允许的。</span></span>
<span class="line"><span style="color:#E2931D;">-F,</span><span style="color:#91B859;"> --flush</span><span style="color:#90A4AE;"> [chain] 清空指定链 chain 上面的所有规则。如果没有指定链，清空该表上所有链的所有规则。</span></span>
<span class="line"><span style="color:#E2931D;">-N,</span><span style="color:#91B859;"> --new-chain</span><span style="color:#91B859;"> chain</span><span style="color:#91B859;"> 用指定的名字创建一个新的链。</span></span>
<span class="line"><span style="color:#E2931D;">-X,</span><span style="color:#91B859;"> --delete-chain</span><span style="color:#90A4AE;"> [chain] ：删除指定的链，这个链必须没有被其它任何规则引用，而且这条上必须没有任何规则。如果没有指定链名，则会删除该表中所有非内置的链。</span></span>
<span class="line"><span style="color:#E2931D;">-E,</span><span style="color:#91B859;"> --rename-chain</span><span style="color:#91B859;"> old-chain</span><span style="color:#91B859;"> new-chain</span><span style="color:#91B859;"> ：用指定的新名字去重命名指定的链。这并不会对链内部造成任何影响。</span></span>
<span class="line"><span style="color:#E2931D;">-Z,</span><span style="color:#91B859;"> --zero</span><span style="color:#90A4AE;"> [chain] ：把指定链，或者表中的所有链上的所有计数器清零。</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E2931D;">-j,</span><span style="color:#91B859;"> --jump</span><span style="color:#91B859;"> target</span><span style="color:#39ADB5;"> &lt;</span><span style="color:#91B859;">指定目</span><span style="color:#90A4AE;">标</span><span style="color:#39ADB5;">&gt;</span><span style="color:#91B859;"> ：即满足某条件时该执行什么样的动作。target</span><span style="color:#91B859;"> 可以是内置的目标，比如</span><span style="color:#91B859;"> ACCEPT，也可以是用户自定义的链。</span></span>
<span class="line"><span style="color:#E2931D;">-h：显示帮助信息；</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><h3 id="五表五链" tabindex="-1">五表五链 <a class="header-anchor" href="#五表五链" aria-label="Permalink to &quot;五表五链&quot;">​</a></h3><ul><li>五个表名 raw，nat，filter，mangle，security</li><li>五个规则链名 INPUT、OUTPUT、FORWARD、PREROUTING、POSTROUTING</li><li>filter表包含INPUT、OUTPUT、FORWARD三个规则链</li></ul><h3 id="实例" tabindex="-1">实例 <a class="header-anchor" href="#实例" aria-label="Permalink to &quot;实例&quot;">​</a></h3><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-lighter vp-code" tabindex="0"><code><span class="line"><span style="color:#E2931D;">iptables</span><span style="color:#91B859;"> -A</span><span style="color:#91B859;"> INPUT</span><span style="color:#91B859;"> -s</span><span style="color:#F76D47;"> 127.0.0.1</span><span style="color:#91B859;"> -d</span><span style="color:#F76D47;"> 127.0.0.1</span><span style="color:#91B859;"> -j</span><span style="color:#91B859;"> ACCEPT</span><span style="color:#90A4AE;font-style:italic;">               #允许本地回环接口(即运行本机访问本机)</span></span>
<span class="line"><span style="color:#E2931D;">iptables</span><span style="color:#91B859;"> -A</span><span style="color:#91B859;"> INPUT</span><span style="color:#91B859;"> -m</span><span style="color:#91B859;"> state</span><span style="color:#91B859;"> --state</span><span style="color:#91B859;"> ESTABLISHED,RELATED</span><span style="color:#91B859;"> -j</span><span style="color:#91B859;"> ACCEPT</span><span style="color:#90A4AE;font-style:italic;">    #允许已建立的或相关连的通行</span></span>
<span class="line"><span style="color:#E2931D;">iptables</span><span style="color:#91B859;"> -A</span><span style="color:#91B859;"> OUTPUT</span><span style="color:#91B859;"> -j</span><span style="color:#91B859;"> ACCEPT</span><span style="color:#90A4AE;font-style:italic;">         #允许所有本机向外的访问</span></span>
<span class="line"><span style="color:#E2931D;">iptables</span><span style="color:#91B859;"> -A</span><span style="color:#91B859;"> INPUT</span><span style="color:#91B859;"> -p</span><span style="color:#91B859;"> tcp</span><span style="color:#91B859;"> --dport</span><span style="color:#F76D47;"> 22</span><span style="color:#91B859;"> -j</span><span style="color:#91B859;"> ACCEPT</span><span style="color:#90A4AE;font-style:italic;">    #允许访问22端口</span></span>
<span class="line"><span style="color:#E2931D;">iptables</span><span style="color:#91B859;"> -A</span><span style="color:#91B859;"> INPUT</span><span style="color:#91B859;"> -p</span><span style="color:#91B859;"> tcp</span><span style="color:#91B859;"> --dport</span><span style="color:#F76D47;"> 80</span><span style="color:#91B859;"> -j</span><span style="color:#91B859;"> ACCEPT</span><span style="color:#90A4AE;font-style:italic;">    #允许访问80端口</span></span>
<span class="line"><span style="color:#E2931D;">iptables</span><span style="color:#91B859;"> -A</span><span style="color:#91B859;"> INPUT</span><span style="color:#91B859;"> -p</span><span style="color:#91B859;"> tcp</span><span style="color:#91B859;"> --dport</span><span style="color:#F76D47;"> 21</span><span style="color:#91B859;"> -j</span><span style="color:#91B859;"> ACCEPT</span><span style="color:#90A4AE;font-style:italic;">    #允许ftp服务的21端口</span></span>
<span class="line"><span style="color:#E2931D;">iptables</span><span style="color:#91B859;"> -A</span><span style="color:#91B859;"> INPUT</span><span style="color:#91B859;"> -p</span><span style="color:#91B859;"> tcp</span><span style="color:#91B859;"> --dport</span><span style="color:#F76D47;"> 20</span><span style="color:#91B859;"> -j</span><span style="color:#91B859;"> ACCEPT</span><span style="color:#90A4AE;font-style:italic;">    #允许FTP服务的20端口</span></span>
<span class="line"><span style="color:#E2931D;">iptables</span><span style="color:#91B859;"> -A</span><span style="color:#91B859;"> INPUT</span><span style="color:#91B859;"> -j</span><span style="color:#91B859;"> reject</span><span style="color:#90A4AE;font-style:italic;">       #禁止其他未允许的规则访问</span></span>
<span class="line"><span style="color:#E2931D;">iptables</span><span style="color:#91B859;"> -A</span><span style="color:#91B859;"> FORWARD</span><span style="color:#91B859;"> -j</span><span style="color:#91B859;"> REJECT</span><span style="color:#90A4AE;font-style:italic;">     #禁止其他未允许的规则访问</span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;"># 查看已添加的iptables规则</span></span>
<span class="line"><span style="color:#E2931D;">iptables</span><span style="color:#91B859;"> -Lvn</span></span>
<span class="line"><span style="color:#E2931D;">iptables</span><span style="color:#91B859;"> -I</span><span style="color:#91B859;"> INPUT</span><span style="color:#91B859;"> -s</span><span style="color:#F76D47;"> 123.45.6.7</span><span style="color:#91B859;"> -j</span><span style="color:#91B859;"> REJECT</span><span style="color:#90A4AE;font-style:italic;">       #屏蔽单个IP的命令</span></span>
<span class="line"><span style="color:#E2931D;">iptables</span><span style="color:#91B859;"> -I</span><span style="color:#91B859;"> INPUT</span><span style="color:#91B859;"> -s</span><span style="color:#91B859;"> 124.45.0.0/16</span><span style="color:#91B859;"> -j</span><span style="color:#91B859;"> REJECT</span><span style="color:#90A4AE;font-style:italic;">    #封IP段即从123.45.0.1到123.45.255.254的命令</span></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;"># 删除已添加的iptables规则</span></span>
<span class="line"><span style="color:#E2931D;">iptables</span><span style="color:#91B859;"> -Lvn</span><span style="color:#91B859;"> --line-numbers</span></span>
<span class="line"><span style="color:#E2931D;">iptables</span><span style="color:#91B859;"> -D</span><span style="color:#91B859;"> INPUT</span><span style="color:#91B859;"> number</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h2 id="firewalld" tabindex="-1">firewalld <a class="header-anchor" href="#firewalld" aria-label="Permalink to &quot;firewalld&quot;">​</a></h2><p>firewalld的配置方法主要有三种：firewall-config、firewall-cmd和直接编辑xml文件，其中 firewall-config是图形化工具，firewall-cmd是命令行工具</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-lighter vp-code" tabindex="0"><code><span class="line"><span style="color:#E2931D;">systemctl</span><span style="color:#91B859;"> start</span><span style="color:#91B859;">  firewalld</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E2931D;">更新防火墙规则</span></span>
<span class="line"><span style="color:#E2931D;">firewall-cmd</span><span style="color:#91B859;"> --reload</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E2931D;">开放端口,修改后需要重启防火墙方可生效</span></span>
<span class="line"><span style="color:#E2931D;">firewall-cmd</span><span style="color:#91B859;"> --zone=public</span><span style="color:#91B859;"> --add-port=8080/tcp</span><span style="color:#91B859;"> --permanent</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E2931D;">查看开放的端口</span></span>
<span class="line"><span style="color:#E2931D;">firewall-cmd</span><span style="color:#91B859;"> --list-ports</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E2931D;">关闭端口</span></span>
<span class="line"><span style="color:#E2931D;">firewall-cmd</span><span style="color:#91B859;"> --zone=public</span><span style="color:#91B859;"> --remove-port=8080/tcp</span><span style="color:#91B859;"> --permanent</span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;"># 将接口添加到区域，默认接口都在public</span></span>
<span class="line"><span style="color:#E2931D;">firewall-cmd</span><span style="color:#91B859;"> --zone=public</span><span style="color:#91B859;"> --add-interface=eth0</span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;"># 设置默认接口区域，立即生效无需重启</span></span>
<span class="line"><span style="color:#E2931D;">firewall-cmd</span><span style="color:#91B859;"> --set-default-zone=public</span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;"># 显示支持的区域列表</span></span>
<span class="line"><span style="color:#E2931D;">firewall-cmd</span><span style="color:#91B859;"> --get-zones</span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;"># 查看防火墙，添加的端口也可以看到</span></span>
<span class="line"><span style="color:#E2931D;">firewall-cmd</span><span style="color:#91B859;"> --list-all</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><h2 id="nftables" tabindex="-1">nftables <a class="header-anchor" href="#nftables" aria-label="Permalink to &quot;nftables&quot;">​</a></h2><div class="tip custom-block"><p class="custom-block-title">TIP</p><p><code>nftables</code> 是由 Netfilter 开发的，该组织目前维护 iptables。nftables 的创建是为了解决 iptables 的一些性能和扩展问题。</p><p>提供数据包过滤、网络地址转换 (NAT) 和其他数据包管理功能。</p><p>除了新的语法和一些升级以外，nftables 的功能与 iptables 几乎是一样的。之所以推出 nftables 的另一个原因，是因为 iptables 的框架变的有点复杂，iptables, ip6tables, arptables 以及 ebtables 都有不同但相似的功能。</p><p>尽管自 2014 年以来，nftables 就被包含在 Linux 内核中，但随着采用范围的扩大，它最近越来越受欢迎。Linux 世界的变化很慢，过时的实用程序通常需要几年或更长的时间才能逐步淘汰，取而代之的是升级后的实用程序。</p></div><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-lighter vp-code" tabindex="0"><code><span class="line"><span style="color:#E2931D;">dnf</span><span style="color:#91B859;"> install</span><span style="color:#91B859;"> -y</span><span style="color:#91B859;"> nftables</span></span>
<span class="line"><span style="color:#E2931D;">systemctl</span><span style="color:#91B859;"> start</span><span style="color:#91B859;"> nftables</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E2931D;">nft</span><span style="color:#91B859;"> 操作符</span><span style="color:#91B859;"> 操作目标</span><span style="color:#91B859;"> 操作内容</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#E2931D;">nft</span><span style="color:#91B859;"> add</span><span style="color:#91B859;"> table</span><span style="color:#91B859;"> 族类型</span><span style="color:#91B859;"> 表名</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E2931D;">nft</span><span style="color:#91B859;"> list</span><span style="color:#91B859;"> ruleset</span><span style="color:#90A4AE;font-style:italic;"> # 列出所有规则</span></span>
<span class="line"><span style="color:#E2931D;">nft</span><span style="color:#91B859;"> list</span><span style="color:#91B859;"> tables</span><span style="color:#90A4AE;font-style:italic;"> # 列出所有表</span></span>
<span class="line"><span style="color:#E2931D;">nft</span><span style="color:#91B859;"> list</span><span style="color:#91B859;"> table</span><span style="color:#91B859;"> filter</span><span style="color:#90A4AE;font-style:italic;"> # 列出表中包含的规则</span></span>
<span class="line"><span style="color:#E2931D;">nft</span><span style="color:#91B859;"> list</span><span style="color:#91B859;"> table</span><span style="color:#91B859;"> inet</span><span style="color:#91B859;"> filter</span><span style="color:#90A4AE;font-style:italic;"> # 列出inet簇的filter表</span></span>
<span class="line"><span style="color:#E2931D;">nft</span><span style="color:#91B859;"> list</span><span style="color:#91B859;"> chain</span><span style="color:#91B859;"> filter</span><span style="color:#91B859;"> input</span><span style="color:#90A4AE;font-style:italic;"> # 列出filter表input链</span></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;"># 删除所有规则集，使系统没有防火墙</span></span>
<span class="line"><span style="color:#E2931D;">nft</span><span style="color:#91B859;"> flush</span><span style="color:#91B859;"> ruleset</span></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;"># 删除表中的所有规则</span></span>
<span class="line"><span style="color:#E2931D;">nft</span><span style="color:#91B859;"> flush</span><span style="color:#91B859;"> table</span><span style="color:#91B859;"> filter</span></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;"># 删除链中的所有规则</span></span>
<span class="line"><span style="color:#E2931D;">nft</span><span style="color:#91B859;"> flush</span><span style="color:#91B859;"> chain</span><span style="color:#91B859;"> filter</span><span style="color:#91B859;"> output</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>nftables包 附带了一个简单而安全的防火墙配置，存储在 /etc/nftables.conf 文件中<br> 可用<code>nft -f /etc/nftables.conf</code> 加载</p><h3 id="表" tabindex="-1">表 <a class="header-anchor" href="#表" aria-label="Permalink to &quot;表&quot;">​</a></h3><p>表包含#链。与 iptables 中的表不同，nftables 中没有内置表。表的数量及其名称由用户决定。不过，每个表只有一个地址族，并且仅适用于该族的数据包。表可以指定五个族之一：</p><table tabindex="0"><thead><tr><th>nftables 族</th><th>iptables 实用程序</th></tr></thead><tbody><tr><td>ip</td><td>iptables</td></tr><tr><td>ip6</td><td>ip6tables</td></tr><tr><td>inet</td><td>iptables 和 ip6tables</td></tr><tr><td>arp</td><td>arptables</td></tr><tr><td>bridge</td><td>ebtables</td></tr></tbody></table><p><code>ip</code>（即 IPv4）是默认族，如果未指定族，则将使用该族。</p><p>要创建同时适用于 IPv4 和 IPv6 的规则，请使用 inet。inet 允许统一 ip 和 ip6 族，从而使同时定义两者的规则更加容易。</p><p>nft 是一个命令行工具，用于在用户空间与 nftables 交互</p><h3 id="链" tabindex="-1">链 <a class="header-anchor" href="#链" aria-label="Permalink to &quot;链&quot;">​</a></h3><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-lighter vp-code" tabindex="0"><code><span class="line"><span style="color:#90A4AE;font-style:italic;"># 添加基础链的语法</span></span>
<span class="line"><span style="color:#E2931D;">%</span><span style="color:#91B859;"> nft</span><span style="color:#91B859;"> add</span><span style="color:#91B859;"> chain</span><span style="color:#90A4AE;"> [&lt;family&gt;] </span><span style="color:#39ADB5;">&lt;</span><span style="color:#90A4AE;">table_name</span><span style="color:#39ADB5;">&gt;</span><span style="color:#39ADB5;"> &lt;</span><span style="color:#90A4AE;">chain_name</span><span style="color:#39ADB5;">&gt;</span><span style="color:#39ADB5;"> {</span><span style="color:#6182B8;"> type</span><span style="color:#39ADB5;"> &lt;</span><span style="color:#91B859;">typ</span><span style="color:#90A4AE;">e</span><span style="color:#39ADB5;">&gt;</span><span style="color:#91B859;"> hook</span><span style="color:#39ADB5;"> &lt;</span><span style="color:#91B859;">hoo</span><span style="color:#90A4AE;">k</span><span style="color:#39ADB5;">&gt;</span><span style="color:#91B859;"> priority</span><span style="color:#39ADB5;"> &lt;</span><span style="color:#91B859;">valu</span><span style="color:#90A4AE;">e</span><span style="color:#39ADB5;">&gt;</span><span style="color:#90A4AE;"> \; [policy </span><span style="color:#39ADB5;">&lt;</span><span style="color:#91B859;">polic</span><span style="color:#90A4AE;">y</span><span style="color:#39ADB5;">&gt;</span><span style="color:#90A4AE;"> \;</span><span style="color:#91B859;">]</span><span style="color:#90A4AE;"> [comment \&quot;</span><span style="color:#91B859;">text</span><span style="color:#91B859;"> comment</span><span style="color:#90A4AE;">\&quot; \;</span><span style="color:#91B859;">]</span><span style="color:#91B859;"> }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E2931D;">nft</span><span style="color:#39ADB5;"> &#39;</span><span style="color:#91B859;">add chain ip foo input { type filter hook input priority 0 ; }</span><span style="color:#39ADB5;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E2931D;">删除链</span></span>
<span class="line"><span style="color:#E2931D;">nft</span><span style="color:#91B859;"> delete</span><span style="color:#91B859;"> chain</span><span style="color:#90A4AE;"> [family] </span><span style="color:#39ADB5;">&lt;</span><span style="color:#90A4AE;">table_name</span><span style="color:#39ADB5;">&gt;</span><span style="color:#39ADB5;"> &lt;</span><span style="color:#90A4AE;">chain_name</span><span style="color:#39ADB5;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E2931D;">To</span><span style="color:#91B859;"> flush</span><span style="color:#90A4AE;"> (delete </span><span style="color:#91B859;">all</span><span style="color:#91B859;"> of</span><span style="color:#91B859;"> the</span><span style="color:#91B859;"> rules</span><span style="color:#91B859;"> in</span><span style="color:#90A4AE;">) the chain input of the foo table</span></span>
<span class="line"><span style="color:#E2931D;">nft</span><span style="color:#91B859;"> flush</span><span style="color:#91B859;"> chain</span><span style="color:#91B859;"> foo</span><span style="color:#91B859;"> input</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p><strong>type</strong>:</p><ul><li>filter</li><li>route</li><li>nat</li></ul><p><strong>hook</strong>:</p><ul><li>ingress</li><li>prerouting</li><li>input</li><li>output</li><li>forward</li><li>postrouting</li></ul><h3 id="nft脚本" tabindex="-1">nft脚本 <a class="header-anchor" href="#nft脚本" aria-label="Permalink to &quot;nft脚本&quot;">​</a></h3><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-lighter vp-code" tabindex="0"><code><span class="line"><span style="color:#E2931D;">要创建</span><span style="color:#91B859;"> nftables</span><span style="color:#91B859;"> 脚本，您必须将以下标头添加到脚本文件中</span></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">#!/usr/sbin/nft -f</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E2931D;">add</span><span style="color:#91B859;"> table</span><span style="color:#91B859;"> filter</span></span>
<span class="line"><span style="color:#E2931D;">add</span><span style="color:#91B859;"> chain</span><span style="color:#91B859;"> filter</span><span style="color:#91B859;"> input</span><span style="color:#91B859;"> {</span><span style="color:#91B859;"> type</span><span style="color:#91B859;"> filter</span><span style="color:#91B859;"> hook</span><span style="color:#91B859;"> input</span><span style="color:#91B859;"> priority</span><span style="color:#F76D47;"> 0</span><span style="color:#39ADB5;">;</span><span style="color:#E2931D;"> policy</span><span style="color:#91B859;"> drop</span><span style="color:#39ADB5;">;</span><span style="color:#90A4AE;"> }</span></span>
<span class="line"><span style="color:#E2931D;">add</span><span style="color:#91B859;"> rule</span><span style="color:#91B859;"> filter</span><span style="color:#91B859;"> input</span><span style="color:#91B859;"> ct</span><span style="color:#91B859;"> state</span><span style="color:#91B859;"> established,related</span><span style="color:#91B859;"> counter</span><span style="color:#91B859;"> accept</span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;"># include a single file using the default search path</span></span>
<span class="line"><span style="color:#E2931D;">include</span><span style="color:#39ADB5;"> &quot;</span><span style="color:#91B859;">ipv4-nat.ruleset</span><span style="color:#39ADB5;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;"># include all files ending in *.nft in the default search path</span></span>
<span class="line"><span style="color:#E2931D;">include</span><span style="color:#39ADB5;"> &quot;</span><span style="color:#91B859;">*.nft</span><span style="color:#39ADB5;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;"># include all files in a given directory using an absolute path</span></span>
<span class="line"><span style="color:#E2931D;">include</span><span style="color:#39ADB5;"> &quot;</span><span style="color:#91B859;">/etc/nftables/*</span><span style="color:#39ADB5;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;"># 使用define关键字来定义变量</span></span>
<span class="line"><span style="color:#E2931D;">define</span><span style="color:#91B859;"> google_dns</span><span style="color:#91B859;"> =</span><span style="color:#F76D47;"> 8.8.8.8</span></span>
<span class="line"><span style="color:#E2931D;">add</span><span style="color:#91B859;"> rule</span><span style="color:#91B859;"> filter</span><span style="color:#91B859;"> input</span><span style="color:#91B859;"> ip</span><span style="color:#91B859;"> saddr</span><span style="color:#90A4AE;"> $google_dns </span><span style="color:#91B859;">counter</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div></div></div></main><footer class="VPDocFooter" data-v-39a288b8 data-v-e257564d><!--[--><!--]--><!----><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-e257564d><span class="visually-hidden" id="doc-footer-aria-label" data-v-e257564d>Pager</span><div class="pager" data-v-e257564d><a class="VPLink link pager-link prev" href="/blog/linux/network" data-v-e257564d><!--[--><span class="desc" data-v-e257564d>Previous page</span><span class="title" data-v-e257564d>网络管理</span><!--]--></a></div><div class="pager" data-v-e257564d><a class="VPLink link pager-link next" href="/blog/linux/lnmp" data-v-e257564d><!--[--><span class="desc" data-v-e257564d>Next page</span><span class="title" data-v-e257564d>LNMP wordpress搭建</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-5d98c3a5 data-v-e315a0ad><div class="container" data-v-e315a0ad><p class="message" data-v-e315a0ad>Released under the MIT License.</p><p class="copyright" data-v-e315a0ad>Copyright © 2024 备案号：<a href="https://beian.miit.gov.cn/" target="_blank">渝ICP备2024011833号</a></p></div></footer><!--[--><!--]--></div></div>
    
    
  </body>
</html>